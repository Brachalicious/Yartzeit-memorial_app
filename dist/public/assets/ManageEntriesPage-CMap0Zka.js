import{j as e,B as c}from"./index-D1umKIgS.js";import{r as u}from"./router-CgUf3kh0.js";import{Y as g,u as p}from"./YahrzeitForm-CIrjA3A6.js";import{C as l,c as o,a as f,b as j}from"./card-B-z3UqDt.js";import{S as v}from"./square-pen-DYTpqNKK.js";import{T as N}from"./trash-2-By5fSsWJ.js";import{D as w,a as y,b as E,c as D}from"./dialog-1yFnsqyf.js";import"./vendor-CM9vOon3.js";import"./input-DmfUCTH1.js";import"./label-Hh7YhjFH.js";import"./select-B6e_1bPk.js";import"./Combination-Bv-F6PFg.js";import"./index-BJ1neE3l.js";function _({entries:a,onEdit:s,onDelete:r}){const i=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return a.length===0?e.jsx(l,{className:"bg-gradient-to-r from-blue-50 via-amber-50 to-blue-50 border-blue-200",children:e.jsx(o,{className:"p-6 text-center",children:e.jsx("p",{className:"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent",children:"No yahrzeit entries found. Add your first entry above."})})}):e.jsx("div",{className:"space-y-4",children:a.map(t=>e.jsxs(l,{className:"bg-gradient-to-r from-blue-50 via-amber-50 to-blue-50 border-blue-200 shadow-md",children:[e.jsx(f,{className:"pb-3 bg-gradient-to-r from-blue-100 via-amber-100 to-blue-100",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(j,{className:"text-lg bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent font-bold",children:t.name}),t.hebrew_name&&e.jsx("p",{className:"text-sm bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent font-semibold mt-1",children:t.hebrew_name})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>s(t),children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>r(t.id),children:e.jsx(N,{className:"h-4 w-4"})})]})]})}),e.jsx(o,{className:"pt-0",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent",children:"Date of Passing"}),e.jsx("p",{className:"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent",children:i(t.death_date)})]}),t.relationship&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent",children:"Relationship"}),e.jsx("p",{className:"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent",children:t.relationship})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent",children:"Notification"}),e.jsxs("p",{className:"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent",children:[t.notify_days_before," days before"]})]}),t.notes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"font-medium bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent",children:"Notes"}),e.jsx("p",{className:"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent",children:t.notes})]})]})})]},t.id))})}function z({entry:a,open:s,onClose:r,onUpdate:i}){const t=async n=>{a&&(await i(a.id,n),r())};return a?e.jsx(w,{open:s,onOpenChange:r,children:e.jsxs(y,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(E,{children:e.jsx(D,{children:"Edit Yahrzeit Entry"})}),e.jsx(g,{onSubmit:t,initialData:{name:a.name,hebrew_name:a.hebrew_name||"",death_date:a.death_date,relationship:a.relationship||"",notes:a.notes||"",notify_days_before:a.notify_days_before},title:""})]})}):null}function q(){const{entries:a,loading:s,error:r,updateEntry:i,deleteEntry:t}=p(),[n,m]=u.useState(null),b=d=>{m(d)},x=async d=>{confirm("Are you sure you want to delete this yahrzeit entry?")&&await t(d)},h=()=>{m(null)};return s?e.jsx("div",{className:"space-y-6",children:e.jsx(l,{children:e.jsx(o,{className:"p-6 text-center",children:"Loading yahrzeit entries..."})})}):r?e.jsx("div",{className:"space-y-6",children:e.jsx(l,{children:e.jsxs(o,{className:"p-6 text-center text-red-600",children:["Error: ",r]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-8 bg-gradient-to-r from-blue-50 via-amber-50 to-blue-50 rounded-lg border border-blue-200 shadow-lg",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent mb-3",children:"Manage Entries"}),e.jsx("p",{className:"text-lg bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent",children:"View, edit, and manage all your yahrzeit entries"}),e.jsxs("div",{className:"mt-4 text-sm bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent font-semibold",children:[a.length," ",a.length===1?"entry":"entries"]})]}),e.jsx(_,{entries:a,onEdit:b,onDelete:x}),e.jsx(z,{entry:n,open:!!n,onClose:h,onUpdate:i})]})}export{q as ManageEntriesPage};
