import{j as e,B as c}from"./index-D1umKIgS.js";import{r as n}from"./router-CgUf3kh0.js";import{C as o,a as d,b as m,c as h}from"./card-B-z3UqDt.js";import{I as N}from"./input-DmfUCTH1.js";import{T as A}from"./textarea-QJMeZBkp.js";import{L as j}from"./label-Hh7YhjFH.js";import{D as L,d as P,a as U,b as K,c as M}from"./dialog-1yFnsqyf.js";import"./vendor-CM9vOon3.js";import"./Combination-Bv-F6PFg.js";import"./index-BJ1neE3l.js";function V(){const[a,u]=n.useState([]),[t,g]=n.useState("album"),[r,b]=n.useState(""),[x,f]=n.useState(""),[i,y]=n.useState([]),[v,S]=n.useState(!1),C=["🌟","💖","🌸","🦋","🌈","💫","🕊️","🌺","💝","🎀","🌹","✨"],w=s=>{if(s.target.files){const l=Array.from(s.target.files);u(p=>[...p,...l])}},k=s=>{u(l=>l.filter((p,D)=>D!==s))},F=s=>{y(l=>l.includes(s)?l.filter(p=>p!==s):[...l,s])},T=async()=>{if(a.length===0){alert("Please select at least one file");return}if(!r){alert("Please enter a name for your "+t);return}const s=new FormData;a.forEach(l=>{s.append("files",l)}),s.append("memoryType",t),s.append("albumName",r),s.append("feelings",x),s.append("stickers",JSON.stringify(i));try{alert(`${t==="album"?"Album":"Scrapbook"} "${r}" created successfully with ${a.length} files!`),u([]),b(""),f(""),y([])}catch(l){console.error("Upload error:",l),alert("Something went wrong.")}};return e.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"📸 Create Beautiful Memories"}),e.jsx("p",{className:"text-gray-600",children:"Upload photos and videos to create albums or decorated scrapbooks"})]}),e.jsxs(o,{className:"mb-6 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200",children:[e.jsx(d,{children:e.jsx(m,{className:"text-center text-blue-800",children:"🕊️ Visit the Kotel Live"})}),e.jsxs(h,{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"Connect spiritually by watching the Western Wall live"}),e.jsxs(L,{open:v,onOpenChange:S,children:[e.jsx(P,{asChild:!0,children:e.jsx(c,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:"🏛️ Go to Kotel Live"})}),e.jsxs(U,{className:"max-w-4xl w-full h-[80vh]",children:[e.jsx(K,{children:e.jsx(M,{className:"text-center",children:"🕊️ The Western Wall - Live Stream"})}),e.jsx("div",{className:"flex-1 h-full",children:e.jsx("iframe",{src:"https://thekotel.org/en/live/",width:"100%",height:"100%",style:{border:"none",minHeight:"500px"},title:"Kotel Live Stream",allow:"fullscreen"})})]})]}),e.jsx("p",{className:"text-sm text-gray-600 italic",children:'"May your prayers ascend to Heaven from this holy place"'})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(m,{children:"Choose Your Memory Type"})}),e.jsx(h,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(c,{variant:t==="album"?"default":"outline",onClick:()=>g("album"),className:"flex-1",children:"📚 Photo Album"}),e.jsx(c,{variant:t==="scrapbook"?"default":"outline",onClick:()=>g("scrapbook"),className:"flex-1",children:"🎨 Decorated Scrapbook"})]})})]}),e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(m,{children:"Upload Your Files"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(j,{children:[t==="album"?"Album":"Scrapbook"," Name"]}),e.jsx(N,{value:r,onChange:s=>b(s.target.value),placeholder:`Name your ${t}...`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Upload Photos & Videos"}),e.jsx(N,{type:"file",multiple:!0,accept:"image/*,video/*",onChange:w,className:"cursor-pointer"})]}),a.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(j,{children:["Selected Files (",a.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:a.map((s,l)=>e.jsxs("div",{className:"relative bg-gray-100 p-3 rounded flex justify-between items-center",children:[e.jsx("span",{className:"text-sm truncate",children:s.name}),e.jsx(c,{size:"sm",variant:"destructive",onClick:()=>k(l),className:"ml-2",children:"Remove"})]},l))})]})]})]}),e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(m,{children:"✨ Add Cute Stickers"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-2",children:C.map(s=>e.jsx(c,{variant:i.includes(s)?"default":"outline",className:"h-12 w-12 text-2xl p-0",onClick:()=>F(s),children:s},s))}),i.length>0&&e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Selected Stickers:"}),e.jsx("div",{className:"text-3xl",children:i.join(" ")})]})]})]}),e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(m,{children:"� Share Your Feelings"})}),e.jsx(h,{children:e.jsx(A,{value:x,onChange:s=>f(s.target.value),placeholder:"Write about your memories, feelings, or thoughts...",rows:6,className:"w-full"})})]}),e.jsxs(o,{children:[e.jsx(d,{children:e.jsxs(m,{children:["🔍 Preview Your ",t==="album"?"Album":"Scrapbook"]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r&&e.jsx("h3",{className:"text-xl font-bold mb-2",children:r}),i.length>0&&e.jsx("div",{className:"text-2xl mb-4",children:i.join(" ")}),e.jsxs("p",{className:"text-gray-600",children:[a.length," file",a.length!==1?"s":""," selected"]}),x&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded italic text-sm",children:['"',x.slice(0,100),x.length>100?"...":"",'"']})]}),e.jsxs(c,{onClick:T,disabled:a.length===0||!r,className:"w-full",size:"lg",children:["🎉 Create ",t==="album"?"Album":"Scrapbook"]})]})]})]})]})}export{V as UploadMemoryPage};
