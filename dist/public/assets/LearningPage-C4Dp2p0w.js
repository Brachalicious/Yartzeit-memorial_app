import{c as ke,j as t,B as C,H as ie,a as le,C as Pe,d as re,f as yt,b as pe,S as Vr,F as wt}from"./index-CSMyf172.js";import{r as g}from"./router-CgUf3kh0.js";import{C as k,c as P,a as F,b as R}from"./card-DHjwif2c.js";import{S as Lt,a as Ft,b as Rt,c as It,d as Wt,C as Ae,e as At,R as Gr,A as $t,f as Kr,g as Xr,h as Qr,u as Jr,i as Ht,j as Zr,k as ea}from"./select-BZwTjxA0.js";import{T as ae}from"./textarea-BQ0cVF5U.js";import{L}from"./label-ByEA-dlB.js";import{I as B,P as de}from"./index-CXHT-48r.js";import{T as Yt}from"./trash-2-MPa9_By4.js";import{U as Fe,S as zt,P as Bt}from"./users-CQiNA__q.js";import{C as ta}from"./clock-Dlcxzrka.js";import{u as Ut,c as rt,a as ra,b as V,P as aa,h as na,R as sa,d as oa,F as ia,D as la}from"./Combination-RkV6G2Sr.js";import{P as qt}from"./index-BirU4p9r.js";import{S as ca}from"./square-pen-CSVSc-sz.js";import{X as da}from"./x-BU-fY6_k.js";import{S as ua}from"./send-D5-en6g5.js";import"./vendor-CM9vOon3.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ma=ke("ChevronLeft",ha);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ga=ke("ChevronRight",fa);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ce=ke("MessageSquare",pa);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],va=ke("Share2",xa);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ya=ke("TrendingUp",ba);function Vt(){const[e,r]=g.useState([]),[a,n]=g.useState(null),[s,o]=g.useState(!0),[i,l]=g.useState(null),d=async(f,p)=>{let v=0;const x=3;for(;v<x;)try{const j=await fetch(f,{...p,headers:{"Content-Type":"application/json",...p==null?void 0:p.headers}});if(!j.ok){const N=await j.text();throw new Error(`Server error: ${j.status} - ${N}`)}return j}catch(j){if(v++,console.warn(`Network attempt ${v} failed for ${f}:`,j),v>=x)throw new Error("Network connection failed. Please check your internet connection and try again.");await new Promise(N=>setTimeout(N,1e3*v))}throw new Error("Maximum retry attempts reached")},h=async()=>{try{console.log("Fetching Tehillim chapters...");const p=await(await d("/api/tehillim")).json();console.log("Fetched chapters:",p),r(p)}catch(f){console.error("Error fetching chapters:",f),l(f instanceof Error?f.message:"Failed to fetch chapters")}},c=async()=>{try{console.log("Fetching Tehillim progress...");const p=await(await d("/api/tehillim/progress")).json();console.log("Fetched progress:",p),n(p)}catch(f){console.error("Error fetching progress:",f),l(f instanceof Error?f.message:"Failed to fetch progress")}},m=async f=>{try{console.log("Creating Tehillim chapter:",f);const p=await d("/api/tehillim",{method:"POST",body:JSON.stringify(f)});await h(),await c(),console.log("Chapter saved successfully")}catch(p){throw console.error("Error creating chapter:",p),l(p instanceof Error?p.message:"Failed to save chapter"),p}},u=async f=>{try{console.log("Deleting Tehillim chapter:",f);const p=await d(`/api/tehillim/${f}`,{method:"DELETE"});await h(),await c(),console.log("Chapter deleted successfully")}catch(p){throw console.error("Error deleting chapter:",p),l(p instanceof Error?p.message:"Failed to delete chapter"),p}};return g.useEffect(()=>{(async()=>{o(!0),l(null),await Promise.all([h(),c()]),o(!1)})()},[]),{chapters:e,progress:a,loading:s,error:i,createChapter:m,deleteChapter:u,refetch:()=>Promise.all([h(),c()])}}const me=[{value:"chapter-23",title:"Chapter 23 - Mizmor L'David",description:"The Lord is my shepherd",chapterNumber:23,sefariaLink:"https://www.sefaria.org/Psalms.23"},{value:"chapter-121",title:"Chapter 121 - Shir LaMaalot",description:"I lift my eyes to the mountains",chapterNumber:121,sefariaLink:"https://www.sefaria.org/Psalms.121"},{value:"chapter-130",title:"Chapter 130 - Shir HaMaalot",description:"From the depths I call to You",chapterNumber:130,sefariaLink:"https://www.sefaria.org/Psalms.130"},{value:"chapter-142",title:"Chapter 142 - Maskil L'David",description:"I cry out to the Lord",chapterNumber:142,sefariaLink:"https://www.sefaria.org/Psalms.142"},{value:"chapter-20",title:"Chapter 20 - LaMenatzeiach",description:"May the Lord answer you in distress",chapterNumber:20,sefariaLink:"https://www.sefaria.org/Psalms.20"},{value:"chapter-91",title:"Chapter 91 - Yoshev B'Seter",description:"He who dwells in shelter",chapterNumber:91,sefariaLink:"https://www.sefaria.org/Psalms.91"},{value:"daily-portion",title:"Daily Tehillim Portion",description:"Monthly cycle based on today's date",sefariaLink:"https://www.sefaria.org/Psalms"},{value:"custom",title:"Custom Chapters",description:"Choose specific chapters",sefariaLink:"https://www.sefaria.org/Psalms"}];function wa({onComplete:e,remainingChapters:r=[]}){const[a,n]=g.useState(""),[s,o]=g.useState(""),[i,l]=g.useState(""),[d,h]=g.useState(!1),c=async()=>{const u=parseInt(a);if(!(!u||u<1||u>150)){h(!0);try{await e({chapter_number:u,chapter_name:s.trim()||void 0,date_completed:new Date().toISOString().split("T")[0],notes:i.trim()||void 0}),n(""),o(""),l("")}catch(f){console.error("Error completing Tehillim chapter:",f)}finally{h(!1)}}},m=u=>{n(u.toString())};return t.jsxs(k,{children:[t.jsx(F,{children:t.jsxs(R,{className:"flex items-center gap-2",children:[t.jsx(ie,{className:"h-5 w-5 text-red-500"}),"Record Individual Tehillim Chapter"]})}),t.jsxs(P,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"chapter-number",children:"Chapter Number (1-150) *"}),t.jsx(B,{id:"chapter-number",type:"number",min:"1",max:"150",value:a,onChange:u=>n(u.target.value),placeholder:"Enter chapter number"})]}),r.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{children:"Quick Select from Remaining Chapters:"}),t.jsxs("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:[r.slice(0,20).map(u=>t.jsx(C,{variant:"outline",size:"sm",onClick:()=>m(u),className:"text-xs",children:u},u)),r.length>20&&t.jsxs("span",{className:"text-xs text-muted-foreground self-center",children:["+",r.length-20," more..."]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"chapter-name",children:"Chapter Name (optional)"}),t.jsx(B,{id:"chapter-name",type:"text",value:s,onChange:u=>o(u.target.value),placeholder:"e.g., Mizmor L'David, Shir HaMaalot"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"chapter-notes",children:"Personal notes or intentions (optional)"}),t.jsx(ae,{id:"chapter-notes",value:i,onChange:u=>l(u.target.value),placeholder:"Share any special intentions or thoughts...",rows:3})]}),t.jsxs(C,{onClick:c,disabled:!a||parseInt(a)<1||parseInt(a)>150||d,className:"w-full flex items-center gap-2",children:[t.jsx(Ae,{className:"h-4 w-4"}),d?"Recording...":"I Have Completed This Chapter"]}),t.jsx(C,{onClick:()=>{const u=`ğŸ•¯ï¸ I just completed Tehillim Chapter ${a} in memory of Chaya Sara Leah Bas Uri zt"l

ğŸ“– ${s?`${s} - `:""}Psalm ${a}
${i?`ğŸ’­ My reflection: ${i}`:""}

Join me in saying Tehillim to elevate her holy neshomah: ${window.location.href}

×œ×¢×™×œ×•×™ × ×©××ª ×—×™×” ×©×¨×” ×œ××” ×‘×ª ××•×¨×™ ×–×´×œ`,f=`https://wa.me/?text=${encodeURIComponent(u)}`,p=`mailto:?subject=${encodeURIComponent(`Tehillim Chapter ${a} for Chaya Sara Leah`)}&body=${encodeURIComponent(u)}`,v=document.createElement("div");v.style.cssText=`
              position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
              background: white; border-radius: 12px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
              padding: 20px; z-index: 1000; min-width: 300px;
            `,v.innerHTML=`
              <h3 style="margin: 0 0 15px 0; font-weight: bold; color: #1e40af;">Share Chapter ${a}</h3>
              <div style="display: flex; flex-direction: column; gap: 10px;">
                <button onclick="window.open('${f}', '_blank'); document.body.removeChild(document.querySelector('[data-chapter-menu]'))" 
                        style="background: #25d366; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                  ğŸ“± Share via WhatsApp
                </button>
                <button onclick="window.open('${p}', '_blank'); document.body.removeChild(document.querySelector('[data-chapter-menu]'))" 
                        style="background: #ea4335; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                  ğŸ“§ Share via Email
                </button>
                <button onclick="navigator.clipboard.writeText('${u.replace(/'/g,"\\'")}'); alert('ğŸ“‹ Chapter learning shared!'); document.body.removeChild(document.querySelector('[data-chapter-menu]'))" 
                        style="background: #6366f1; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                  ğŸ“‹ Copy to Clipboard
                </button>
                <button onclick="document.body.removeChild(document.querySelector('[data-chapter-menu]'))" 
                        style="background: #6b7280; color: white; border: none; padding: 8px; border-radius: 8px; cursor: pointer;">
                  Cancel
                </button>
              </div>
            `,v.setAttribute("data-chapter-menu","true"),document.body.appendChild(v)},variant:"outline",className:"w-full bg-green-50 hover:bg-green-100 text-green-700 border-green-200",disabled:!a||parseInt(a)<1||parseInt(a)>150,children:"ğŸ“¤ Share This Chapter"})]})]})}function ja({progress:e}){return e?t.jsxs(k,{children:[t.jsx(F,{children:t.jsxs(R,{className:"flex items-center gap-2",children:[t.jsx(le,{className:"h-5 w-5 text-blue-600"}),"Tehillim Progress"]})}),t.jsx(P,{className:"space-y-4",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-primary mb-1",children:[e.completed_count," / ",e.total_chapters]}),t.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Chapters Completed"}),t.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${e.progress_percentage}%`}})}),t.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:[e.progress_percentage,"% Complete"]})]})})]}):null}function Na({chapters:e,onDelete:r}){const a=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),n=s=>{confirm("Are you sure you want to delete this Tehillim chapter record?")&&r(s)};return e.length===0?t.jsx(k,{children:t.jsx(P,{className:"p-6 text-center text-muted-foreground",children:"No Tehillim chapters recorded yet. Start by completing individual chapters!"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Tehillim Chapter History"}),t.jsxs("p",{className:"text-muted-foreground mt-2",children:[e.length," chapters completed in memory of Chaya Sara Leah"]})]}),t.jsx("div",{className:"grid gap-4",children:e.slice(0,10).map(s=>t.jsx(k,{children:t.jsx(P,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold",children:["Chapter ",s.chapter_number,s.chapter_name&&` - ${s.chapter_name}`]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a(s.date_completed)}),s.notes&&t.jsx("p",{className:"text-sm mt-2 text-muted-foreground",children:s.notes})]}),t.jsx(C,{variant:"outline",size:"sm",onClick:()=>n(s.id),children:"Delete"})]})})},s.id))})]})}function Ca({onComplete:e}){var N,y;const[r,a]=g.useState(""),[n,s]=g.useState(""),[o,i]=g.useState(""),[l,d]=g.useState(!1),[h,c]=g.useState("quick"),{chapters:m,progress:u,loading:f,error:p,createChapter:v,deleteChapter:x}=Vt(),j=async()=>{if(r){d(!0);try{const b=me.find(A=>A.value===r);let M=(b==null?void 0:b.title)||"Custom Tehillim",D=(b==null?void 0:b.description)||"";r==="custom"&&n&&(M=`Tehillim Chapters: ${n}`,D="Custom selection of Tehillim chapters"),await e({activity_type:"tehillim",title:M,description:D,date_completed:new Date().toISOString().split("T")[0],notes:o.trim()||null}),a(""),s(""),i("")}catch(b){console.error("Error completing Tehillim:",b)}finally{d(!1)}}};return f?t.jsx(k,{children:t.jsx(P,{className:"p-6 text-center",children:"Loading Tehillim data..."})}):p?t.jsx(k,{children:t.jsxs(P,{className:"p-6 text-center text-red-600",children:["Error: ",p]})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[t.jsx(C,{variant:h==="quick"?"default":"outline",onClick:()=>c("quick"),size:"sm",children:"Quick Selections"}),t.jsx(C,{variant:h==="individual"?"default":"outline",onClick:()=>c("individual"),size:"sm",children:"Individual Chapters"}),t.jsx(C,{variant:h==="progress"?"default":"outline",onClick:()=>c("progress"),size:"sm",children:"Progress Tracker"}),t.jsx(C,{variant:"outline",onClick:()=>window.open("https://www.sefaria.org/Psalms?tab=contents","_blank"),size:"sm",className:"bg-blue-50 hover:bg-blue-100 text-blue-700",children:"ğŸ“– Full Book of Psalms (Sefaria)"}),t.jsx(C,{variant:h==="history"?"default":"outline",onClick:()=>c("history"),size:"sm",children:"Chapter History"})]}),h==="quick"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs(k,{className:"bg-gradient-to-r from-blue-50 via-purple-50 to-blue-50 border-blue-200",children:[t.jsx(F,{children:t.jsx(R,{className:"bg-gradient-to-r from-blue-600 via-purple-500 to-blue-600 bg-clip-text text-transparent",children:"ğŸ“– Popular Tehillim Chapters"})}),t.jsxs(P,{className:"space-y-4",children:[t.jsx("p",{className:"bg-gradient-to-r from-blue-700 via-purple-600 to-blue-700 bg-clip-text text-transparent",children:"Quick access to commonly recited Tehillim chapters for comfort and healing."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Psalms.23","_blank"),className:"w-full bg-blue-400 hover:bg-blue-500 justify-start",children:"ğŸ™ Psalm 23 - The Lord is my shepherd"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Psalms.91","_blank"),className:"w-full bg-green-400 hover:bg-green-500 justify-start",children:"ğŸ›¡ï¸ Psalm 91 - He who dwells in shelter"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Psalms.121","_blank"),className:"w-full bg-purple-400 hover:bg-purple-500 justify-start",children:"ğŸ”ï¸ Psalm 121 - I lift my eyes to the mountains"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Psalms.130","_blank"),className:"w-full bg-purple-400 hover:bg-purple-500 justify-start",children:"ğŸ™ Psalm 130 - From the depths I call"})]})]})]}),t.jsxs(k,{children:[t.jsx(F,{children:t.jsxs(R,{className:"flex items-center gap-2",children:[t.jsx(ie,{className:"h-5 w-5 text-red-500"}),"Say Tehillim in Memory"]})}),t.jsxs(P,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"tehillim-option",children:"Choose Tehillim to recite:"}),t.jsxs(Lt,{value:r,onValueChange:a,children:[t.jsx(Ft,{children:t.jsx(Rt,{placeholder:"Select a Tehillim option"})}),t.jsx(It,{children:me.map(b=>t.jsx(Wt,{value:b.value,children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:b.title}),t.jsx("div",{className:"text-xs text-muted-foreground",children:b.description})]})},b.value))})]})]}),r&&r!=="custom"&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:(N=me.find(b=>b.value===r))==null?void 0:N.title}),t.jsx("p",{className:"text-sm text-blue-600 mb-4",children:(y=me.find(b=>b.value===r))==null?void 0:y.description}),t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsx(C,{onClick:()=>{const b=me.find(M=>M.value===r);b!=null&&b.sefariaLink&&window.open(b.sefariaLink,"_blank")},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"ğŸ“– Study on Sefaria"}),t.jsx(C,{onClick:()=>{const b=me.find(M=>M.value===r);if(b!=null&&b.chapterNumber){const M=document.querySelector("[data-chapter-form]");M&&M.scrollIntoView({behavior:"smooth"})}},variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:"âœ… Mark as Complete"})]})]})}),r==="custom"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"custom-chapters",children:'Specify chapters (e.g., "1, 3, 23, 121"):'}),t.jsx(B,{id:"custom-chapters",type:"text",value:n,onChange:b=>s(b.target.value),placeholder:"Enter chapter numbers separated by commas"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"tehillim-notes",children:"Personal notes or intentions (optional):"}),t.jsx(ae,{id:"tehillim-notes",value:o,onChange:b=>i(b.target.value),placeholder:"Share any special intentions or thoughts...",rows:3})]}),t.jsxs(C,{onClick:j,disabled:!r||l||r==="custom"&&!n.trim(),className:"w-full flex items-center gap-2",children:[t.jsx(Ae,{className:"h-4 w-4"}),l?"Recording...":"I Have Completed This Tehillim"]}),t.jsx(C,{onClick:()=>{const b=me.find(ne=>ne.value===r),M=`ğŸ•¯ï¸ I just completed Tehillim in memory of Chaya Sara Leah Bas Uri zt"l

ğŸ“– ${(b==null?void 0:b.title)||"Custom Tehillim"}
${(b==null?void 0:b.description)||""}

${o?`ğŸ’­ My reflection: ${o}`:""}

Join me in learning and saying Tehillim to elevate her holy neshomah: ${window.location.href}

×œ×¢×™×œ×•×™ × ×©××ª ×—×™×” ×©×¨×” ×œ××” ×‘×ª ××•×¨×™ ×–×´×œ`,D=`https://wa.me/?text=${encodeURIComponent(M)}`,A=`mailto:?subject=${encodeURIComponent("Tehillim Learning in Memory of Chaya Sara Leah")}&body=${encodeURIComponent(M)}`,I=document.createElement("div");I.style.cssText=`
                    position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
                    background: white; border-radius: 12px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
                    padding: 20px; z-index: 1000; min-width: 300px;
                  `,I.innerHTML=`
                    <h3 style="margin: 0 0 15px 0; font-weight: bold; color: #1e40af;">Share Your Learning</h3>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                      <button onclick="window.open('${D}', '_blank'); document.body.removeChild(document.querySelector('[data-learning-menu]'))" 
                              style="background: #25d366; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        ğŸ“± Share via WhatsApp
                      </button>
                      <button onclick="window.open('${A}', '_blank'); document.body.removeChild(document.querySelector('[data-learning-menu]'))" 
                              style="background: #ea4335; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        ğŸ“§ Share via Email
                      </button>
                      <button onclick="navigator.clipboard.writeText('${M.replace(/'/g,"\\'")}'); alert('ğŸ“‹ Learning shared to clipboard!'); document.body.removeChild(document.querySelector('[data-learning-menu]'))" 
                              style="background: #6366f1; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        ğŸ“‹ Copy to Clipboard
                      </button>
                      <button onclick="document.body.removeChild(document.querySelector('[data-learning-menu]'))" 
                              style="background: #6b7280; color: white; border: none; padding: 8px; border-radius: 8px; cursor: pointer;">
                        Cancel
                      </button>
                    </div>
                  `,I.setAttribute("data-learning-menu","true"),document.body.appendChild(I)},variant:"outline",className:"w-full bg-green-50 hover:bg-green-100 text-green-700 border-green-200",disabled:!r,children:"ğŸ“¤ Share My Learning"})]})]}),t.jsx(k,{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:t.jsxs(P,{className:"p-6",children:[t.jsx("h3",{className:"font-semibold mb-3",children:"The Power of Tehillim"}),t.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Reciting Tehillim (Psalms) creates a spiritual connection that transcends this world. Each word carries the power to elevate the soul of our departed loved ones. When we say Tehillim with intention and love, we are sending our prayers directly to the throne of the Almighty, asking for the soul's elevation and peace in the World to Come."})]})})]}),h==="individual"&&t.jsx("div",{"data-chapter-form":!0,children:t.jsx(wa,{onComplete:v,remainingChapters:u==null?void 0:u.remaining_chapters})}),h==="progress"&&u&&t.jsx(ja,{progress:u}),h==="history"&&t.jsx(Na,{chapters:m,onDelete:x})]})}const ze=[{value:"weekly-parsha",title:"Weekly Parsha",description:"This week's Torah portion"},{value:"mishnah-daily",title:"Daily Mishnah",description:"A chapter of Mishnah"},{value:"gemara-page",title:"Daf Yomi",description:"Daily page of Talmud"},{value:"rambam-daily",title:"Daily Rambam",description:"3 chapters of Mishneh Torah"},{value:"ein-yaakov",title:"Ein Yaakov",description:"Aggadic portions of the Talmud"},{value:"zohar-daily",title:"Daily Zohar",description:"A portion of the holy Zohar"},{value:"pirkei-avot",title:"Pirkei Avot",description:"Ethics of the Fathers"},{value:"sefer-hachinuch",title:"Sefer HaChinuch",description:"The Book of Mitzvot Education"},{value:"custom-study",title:"Custom Torah Study",description:"Your own Torah learning"}];function _a({onComplete:e}){const[r,a]=g.useState(""),[n,s]=g.useState(""),[o,i]=g.useState(""),[l,d]=g.useState(!1),[h,c]=g.useState("record"),m=async()=>{if(r){d(!0);try{const u=ze.find(v=>v.value===r);let f=(u==null?void 0:u.title)||"Custom Torah Study",p=(u==null?void 0:u.description)||"";r==="custom-study"&&n&&(f=`Torah Study: ${n}`,p="Custom Torah learning session"),await e({activity_type:"torah",title:f,description:p,date_completed:new Date().toISOString().split("T")[0],notes:o.trim()||null}),a(""),s(""),i("")}catch(u){console.error("Error completing Torah study:",u)}finally{d(!1)}}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(k,{className:"bg-gradient-to-r from-blue-50 via-amber-50 to-blue-50 border-blue-200",children:[t.jsx(F,{children:t.jsx(R,{className:"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent",children:"ğŸ“œ Torah Study Resources"})}),t.jsxs(P,{className:"space-y-4",children:[t.jsx("p",{className:"bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent",children:"Access Torah texts directly for study and learning in her memory."}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs(k,{className:"bg-white border-amber-200",children:[t.jsx(F,{children:t.jsx(R,{className:"text-amber-700",children:"ğŸ“š Torah (Five Books)"})}),t.jsxs(P,{className:"space-y-3",children:[t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Genesis.1","_blank"),className:"w-full bg-amber-500 hover:bg-amber-600",children:"ğŸŒŸ Genesis (Bereishit)"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Exodus.1","_blank"),className:"w-full bg-amber-500 hover:bg-amber-600",children:"ğŸ”¥ Exodus (Shemot)"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Leviticus.1","_blank"),className:"w-full bg-amber-500 hover:bg-amber-600",children:"ğŸ•Šï¸ Leviticus (Vayikra)"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Numbers.1","_blank"),className:"w-full bg-amber-500 hover:bg-amber-600",children:"ğŸœï¸ Numbers (Bamidbar)"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Deuteronomy.1","_blank"),className:"w-full bg-amber-500 hover:bg-amber-600",children:"ğŸ“– Deuteronomy (Devarim)"})]})]}),t.jsxs(k,{className:"bg-white border-blue-200",children:[t.jsx(F,{children:t.jsx(R,{className:"text-blue-700",children:"ğŸ“š Other Sacred Texts"})}),t.jsxs(P,{className:"space-y-3",children:[t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Ecclesiastes","_blank"),className:"w-full bg-blue-600 hover:bg-blue-700",children:"â° Ecclesiastes (Kohelet)"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Proverbs","_blank"),className:"w-full bg-blue-500 hover:bg-blue-600",children:"ğŸ’ Proverbs (Mishlei)"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Job","_blank"),className:"w-full bg-blue-500 hover:bg-blue-600",children:"ğŸ’ª Job (Iyov)"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Song_of_Songs","_blank"),className:"w-full bg-blue-500 hover:bg-blue-600",children:"ğŸŒ¹ Song of Songs (Shir HaShirim)"})]})]})]}),t.jsxs(k,{className:"bg-white border-purple-200",children:[t.jsx(F,{children:t.jsx(R,{className:"text-purple-700",children:"ğŸ“– Talmud & Mishnah"})}),t.jsxs(P,{className:"space-y-3",children:[t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/texts/Talmud","_blank"),className:"w-full bg-purple-600 hover:bg-purple-700",children:"ğŸ“œ Browse Talmud"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/texts/Mishnah","_blank"),className:"w-full bg-purple-500 hover:bg-purple-600",children:"ğŸ“‹ Browse Mishnah"}),t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/Pirkei_Avot","_blank"),className:"w-full bg-purple-500 hover:bg-purple-600",children:"ğŸ§˜ Pirkei Avot (Ethics)"})]})]}),t.jsx("div",{className:"text-center mt-4",children:t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/texts","_blank"),className:"bg-gradient-to-r from-amber-600 to-purple-600 hover:from-amber-700 hover:to-purple-700 text-white",children:"ğŸ“– See All Torah Texts"})})]})]}),t.jsxs(k,{className:"border-green-200",children:[t.jsx(F,{children:t.jsxs(R,{className:"text-green-700 flex items-center gap-2",children:[t.jsx(le,{className:"h-5 w-5"}),"Record Your Torah Study"]})}),t.jsxs(P,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"torah-option",children:"What did you study?"}),t.jsxs(Lt,{value:r,onValueChange:a,children:[t.jsx(Ft,{children:t.jsx(Rt,{placeholder:"Select Torah study type"})}),t.jsx(It,{children:ze.map(u=>t.jsx(Wt,{value:u.value,children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:u.title}),t.jsx("div",{className:"text-xs text-muted-foreground",children:u.description})]})},u.value))})]})]}),r==="custom-study"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"custom-topic",children:"Specify what you studied:"}),t.jsx("input",{id:"custom-topic",type:"text",value:n,onChange:u=>s(u.target.value),placeholder:"e.g., Rashi on Genesis 1:1, Maimonides Guide 1:1",className:"w-full p-2 border border-gray-300 rounded-md"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"torah-notes",children:"Study notes or insights (optional):"}),t.jsx(ae,{id:"torah-notes",value:o,onChange:u=>i(u.target.value),placeholder:"Share any insights, questions, or reflections from your study...",rows:3})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(C,{onClick:m,disabled:!r||l||r==="custom-study"&&!n.trim(),className:"flex-1 flex items-center gap-2",children:[t.jsx(Ae,{className:"h-4 w-4"}),l?"Recording...":"I Have Completed This Study"]}),t.jsx(C,{onClick:()=>{const u=ze.find(j=>j.value===r),f=`ğŸ•¯ï¸ I just studied Torah in memory of Chaya Sara Leah Bas Uri zt"l

ğŸ“œ Study: ${(u==null?void 0:u.title)||"Custom Torah Study"}
${r==="custom-study"&&n?`ğŸ“– Topic: ${n}`:""}
${o?`ğŸ’­ My insights: ${o}`:""}

Join me in Torah learning to elevate her holy neshomah: ${window.location.href}

×œ×¢×™×œ×•×™ × ×©××ª ×—×™×” ×©×¨×” ×œ××” ×‘×ª ××•×¨×™ ×–×´×œ`,p=`https://wa.me/?text=${encodeURIComponent(f)}`,v=`mailto:?subject=${encodeURIComponent("Torah Study for Chaya Sara Leah")}&body=${encodeURIComponent(f)}`,x=document.createElement("div");x.style.cssText=`
                  position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
                  background: white; border-radius: 12px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
                  padding: 20px; z-index: 1000; min-width: 300px;
                `,x.innerHTML=`
                  <h3 style="margin: 0 0 15px 0; font-weight: bold; color: #1e40af;">Share Torah Study</h3>
                  <div style="display: flex; flex-direction: column; gap: 10px;">
                    <button onclick="window.open('${p}', '_blank'); document.body.removeChild(document.querySelector('[data-torah-menu]'))" 
                            style="background: #25d366; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                      ğŸ“± Share via WhatsApp
                    </button>
                    <button onclick="window.open('${v}', '_blank'); document.body.removeChild(document.querySelector('[data-torah-menu]'))" 
                            style="background: #ea4335; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                      ğŸ“§ Share via Email
                    </button>
                    <button onclick="navigator.clipboard.writeText('${f.replace(/'/g,"\\'")}'); alert('ğŸ“‹ Torah study shared!'); document.body.removeChild(document.querySelector('[data-torah-menu]'))" 
                            style="background: #6366f1; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                      ğŸ“‹ Copy to Clipboard
                    </button>
                    <button onclick="document.body.removeChild(document.querySelector('[data-torah-menu]'))" 
                            style="background: #6b7280; color: white; border: none; padding: 8px; border-radius: 8px; cursor: pointer;">
                      Cancel
                    </button>
                  </div>
                `,x.setAttribute("data-torah-menu","true"),document.body.appendChild(x)},variant:"outline",className:"bg-green-50 hover:bg-green-100 text-green-700 border-green-200",disabled:!r,children:"ğŸ“¤ Share Study"})]})]})]})]})}function Sa({activities:e,onDelete:r}){const a=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),n=o=>{confirm("Are you sure you want to delete this learning activity?")&&r(o)},s=g.useMemo(()=>{const o={};return e.forEach(i=>{const l=i.date_completed;o[l]||(o[l]=[]),o[l].push(i)}),Object.entries(o).sort(([i],[l])=>new Date(l).getTime()-new Date(i).getTime())},[e]);return e.length===0?t.jsx(k,{children:t.jsx(P,{className:"p-6 text-center text-muted-foreground",children:"No learning activities recorded yet. Start by dedicating some Tehillim or Torah learning!"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Learning History"}),t.jsxs("p",{className:"text-muted-foreground mt-2",children:[e.length," activities dedicated to Chaya Sara Leah's memory"]})]}),t.jsx("div",{className:"grid gap-4",children:s.map(([o,i])=>t.jsxs(k,{children:[t.jsx(F,{className:"pb-3",children:t.jsxs(R,{className:"flex items-center gap-2 text-lg",children:[t.jsx(Pe,{className:"h-5 w-5"}),a(o),t.jsxs("span",{className:"text-sm text-muted-foreground font-normal",children:["(",i.length," ",i.length===1?"activity":"activities",")"]})]})}),t.jsx(P,{className:"pt-0 space-y-3",children:i.map(l=>t.jsx("div",{className:`p-4 rounded-lg border ${l.activity_type==="tehillim"?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20":"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20"}`,children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.activity_type==="tehillim"?t.jsx(ie,{className:"h-4 w-4 text-red-500"}):t.jsx(le,{className:"h-4 w-4 text-blue-600"}),t.jsx("h3",{className:"font-semibold",children:l.title})]}),l.description&&t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.description}),l.notes&&t.jsxs("div",{className:"mt-3 p-3 bg-white/50 dark:bg-black/20 rounded text-sm",children:[t.jsx("strong",{children:"Notes:"})," ",l.notes]})]}),t.jsx(C,{variant:"outline",size:"sm",onClick:()=>n(l.id),children:t.jsx(Yt,{className:"h-4 w-4"})})]})},l.id))})]},o))})]})}function ka({onComplete:e}){const[r,a]=g.useState([]),[n,s]=g.useState({learner_name:"",torah_studied:"",time_spent:"",notes:""}),[o,i]=g.useState(!1),[l,d]=g.useState(null),[h,c]=g.useState(""),[m,u]=g.useState("");g.useEffect(()=>{const y=localStorage.getItem("sharedLearningEntries");y&&a(JSON.parse(y));const b=localStorage.getItem("sharedLearningResponderName");b&&u(b)},[]);const f=y=>{a(y),localStorage.setItem("sharedLearningEntries",JSON.stringify(y))},p=()=>{if(!n.learner_name.trim()||!n.torah_studied.trim()||!n.time_spent){alert("Please fill in all required fields");return}const b=[{id:Date.now().toString(),learner_name:n.learner_name.trim(),torah_studied:n.torah_studied.trim(),time_spent:parseInt(n.time_spent),date_completed:new Date().toISOString(),notes:n.notes.trim()||void 0,encouragement_reactions:[],responses:[]},...r];f(b),s({learner_name:"",torah_studied:"",time_spent:"",notes:""}),i(!1),e&&e()},v=(y,b)=>{const M=r.map(D=>D.id===y?D.encouragement_reactions.find(I=>I.emoji===b)?{...D,encouragement_reactions:D.encouragement_reactions.map(I=>I.emoji===b?{...I,count:I.count+1}:I)}:{...D,encouragement_reactions:[...D.encouragement_reactions,{emoji:b,count:1}]}:D);f(M)},x=y=>{if(!h.trim()||!m.trim()){alert("Please enter your name and a response");return}localStorage.setItem("sharedLearningResponderName",m);const b={id:Date.now().toString(),responder_name:m.trim(),message:h.trim(),date:new Date().toISOString()},M=r.map(D=>D.id===y?{...D,responses:[...D.responses,b]}:D);f(M),c(""),d(null)},j=y=>{const b=`ğŸ•¯ï¸ ${y.learner_name} studied Torah in memory of Chaya Sara Leah Bas Uri zt"l

ğŸ“– Study: ${y.torah_studied}
â° Time: ${y.time_spent} minutes
ğŸ“… Date: ${new Date(y.date_completed).toLocaleDateString()}

${y.notes?`ğŸ’­ Notes: ${y.notes}`:""}

Join our shared learning to elevate her holy neshomah: ${window.location.href}

×œ×¢×™×œ×•×™ × ×©××ª ×—×™×” ×©×¨×” ×œ××” ×‘×ª ××•×¨×™ ×–×´×œ`,M=`https://wa.me/?text=${encodeURIComponent(b)}`,D=`mailto:?subject=${encodeURIComponent("Shared Torah Learning for Chaya Sara Leah")}&body=${encodeURIComponent(b)}`,A=document.createElement("div");A.style.cssText=`
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      background: white; border-radius: 12px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      padding: 20px; z-index: 1000; min-width: 300px;
    `,A.innerHTML=`
      <h3 style="margin: 0 0 15px 0; font-weight: bold; color: #1e40af;">Share Learning</h3>
      <div style="display: flex; flex-direction: column; gap: 10px;">
        <button onclick="window.open('${M}', '_blank'); document.body.removeChild(document.querySelector('[data-share-learning-menu]'))" 
                style="background: #25d366; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
          ğŸ“± Share via WhatsApp
        </button>
        <button onclick="window.open('${D}', '_blank'); document.body.removeChild(document.querySelector('[data-share-learning-menu]'))" 
                style="background: #ea4335; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
          ğŸ“§ Share via Email
        </button>
        <button onclick="navigator.clipboard.writeText('${b.replace(/'/g,"\\'")}'); alert('ğŸ“‹ Learning shared!'); document.body.removeChild(document.querySelector('[data-share-learning-menu]'))" 
                style="background: #6366f1; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
          ğŸ“‹ Copy to Clipboard
        </button>
        <button onclick="document.body.removeChild(document.querySelector('[data-share-learning-menu]'))" 
                style="background: #6b7280; color: white; border: none; padding: 8px; border-radius: 8px; cursor: pointer;">
          Cancel
        </button>
      </div>
    `,A.setAttribute("data-share-learning-menu","true"),document.body.appendChild(A)},N=y=>new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return t.jsxs("div",{className:"space-y-6",children:[t.jsx(k,{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:t.jsxs(P,{className:"p-6 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[t.jsx(Fe,{className:"h-8 w-8 text-purple-600"}),t.jsx(ie,{className:"h-6 w-6 text-red-500",fill:"currentColor"})]}),t.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Shared Learning Community"}),t.jsx("p",{className:"text-purple-600 mb-4",children:"Join together in Torah study to elevate the neshomah of Chaya Sara Leah Bas Uri ×–×¦×´×œ"}),t.jsxs(C,{onClick:()=>i(!o),className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[t.jsx(le,{className:"mr-2 h-4 w-4"}),o?"Hide Form":"Share Your Learning"]})]})}),o&&t.jsxs(k,{children:[t.jsx(F,{children:t.jsxs(R,{className:"flex items-center gap-2",children:[t.jsx(le,{className:"h-5 w-5 text-blue-600"}),"Share Your Learning"]})}),t.jsxs(P,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"learner-name",children:"Your Name *"}),t.jsx(B,{id:"learner-name",value:n.learner_name,onChange:y=>s(b=>({...b,learner_name:y.target.value})),placeholder:"Enter your name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"time-spent",children:"Time Spent (minutes) *"}),t.jsx(B,{id:"time-spent",type:"number",min:"1",value:n.time_spent,onChange:y=>s(b=>({...b,time_spent:y.target.value})),placeholder:"e.g., 30"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"torah-studied",children:"What Torah did you study? *"}),t.jsx(B,{id:"torah-studied",value:n.torah_studied,onChange:y=>s(b=>({...b,torah_studied:y.target.value})),placeholder:"e.g., Tehillim Chapter 23, Gemara Berachot 5a, Parashat Bereishit"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"notes",children:"Notes or reflections (optional)"}),t.jsx(ae,{id:"notes",value:n.notes,onChange:y=>s(b=>({...b,notes:y.target.value})),placeholder:"Share any insights, intentions, or reflections...",rows:3})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(C,{onClick:p,className:"flex-1",children:"ğŸ“– Share My Learning"}),t.jsx(C,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),t.jsx("div",{className:"space-y-4",children:r.length===0?t.jsx(k,{children:t.jsxs(P,{className:"p-8 text-center",children:[t.jsx(Fe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No shared learning yet"}),t.jsx("p",{className:"text-gray-500",children:"Be the first to share your Torah study in memory of Chaya Sara Leah!"})]})}):r.map(y=>t.jsx(k,{className:"border-l-4 border-l-purple-500",children:t.jsxs(P,{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg text-purple-700",children:y.learner_name}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ta,{className:"h-4 w-4"}),y.time_spent," minutes"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Pe,{className:"h-4 w-4"}),N(y.date_completed)]})]})]}),t.jsx(C,{variant:"outline",size:"sm",onClick:()=>j(y),className:"text-green-600 hover:text-green-700",children:t.jsx(va,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("p",{className:"font-semibold text-blue-600 mb-2",children:["ğŸ“– ",y.torah_studied]}),y.notes&&t.jsxs("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg italic",children:['"',y.notes,'"']})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["ğŸ’ª","ğŸ‘","ğŸ™","â¤ï¸","ğŸŒŸ","ğŸ“š"].map(b=>{const M=y.encouragement_reactions.find(D=>D.emoji===b);return t.jsxs(C,{variant:"outline",size:"sm",onClick:()=>v(y.id,b),className:"text-xs hover:bg-gray-100",children:[b," ",(M==null?void 0:M.count)||0]},b)})}),y.responses.length>0&&t.jsxs("div",{className:"border-t pt-4 space-y-3",children:[t.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"Encouragement:"}),y.responses.map(b=>t.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("span",{className:"font-semibold text-blue-700",children:b.responder_name}),t.jsx("span",{className:"text-xs text-gray-500",children:N(b.date)})]}),t.jsx("p",{className:"text-gray-700",children:b.message})]},b.id))]}),l===y.id?t.jsxs("div",{className:"border-t pt-4 space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsx(B,{placeholder:"Your name",value:m,onChange:b=>u(b.target.value)}),t.jsx("div",{})]}),t.jsx(ae,{placeholder:"Write an encouraging message...",value:h,onChange:b=>c(b.target.value),rows:2}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(C,{size:"sm",onClick:()=>x(y.id),disabled:!h.trim()||!m.trim(),children:"Send Encouragement"}),t.jsx(C,{variant:"outline",size:"sm",onClick:()=>d(null),children:"Cancel"})]})]}):t.jsx("div",{className:"border-t pt-4",children:t.jsxs(C,{variant:"outline",size:"sm",onClick:()=>d(y.id),className:"w-full",children:[t.jsx(ce,{className:"mr-2 h-4 w-4"}),"Send Encouragement"]})})]})},y.id))})]})}const at=6048e5,Pa=864e5,jt=Symbol.for("constructDateFrom");function $(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&jt in e?e[jt](r):e instanceof Date?new e.constructor(r):new Date(r)}function E(e,r){return $(r||e,e)}function H(e,r,a){const n=E(e,a==null?void 0:a.in);return isNaN(r)?$((a==null?void 0:a.in)||e,NaN):(r&&n.setDate(n.getDate()+r),n)}function G(e,r,a){const n=E(e,a==null?void 0:a.in);if(isNaN(r))return $((a==null?void 0:a.in)||e,NaN);if(!r)return n;const s=n.getDate(),o=$((a==null?void 0:a.in)||e,n.getTime());o.setMonth(n.getMonth()+r+1,0);const i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}let Ma={};function Me(){return Ma}function Z(e,r){var l,d,h,c;const a=Me(),n=(r==null?void 0:r.weekStartsOn)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??a.weekStartsOn??((c=(h=a.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,s=E(e,r==null?void 0:r.in),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function ge(e,r){return Z(e,{...r,weekStartsOn:1})}function Gt(e,r){const a=E(e,r==null?void 0:r.in),n=a.getFullYear(),s=$(a,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=ge(s),i=$(a,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=ge(i);return a.getTime()>=o.getTime()?n+1:a.getTime()>=l.getTime()?n:n-1}function Re(e){const r=E(e),a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),+e-+a}function je(e,...r){const a=$.bind(null,e||r.find(n=>typeof n=="object"));return r.map(a)}function ye(e,r){const a=E(e,r==null?void 0:r.in);return a.setHours(0,0,0,0),a}function J(e,r,a){const[n,s]=je(a==null?void 0:a.in,e,r),o=ye(n),i=ye(s),l=+o-Re(o),d=+i-Re(i);return Math.round((l-d)/Pa)}function Da(e,r){const a=Gt(e,r),n=$(e,0);return n.setFullYear(a,0,4),n.setHours(0,0,0,0),ge(n)}function Qe(e,r,a){return H(e,r*7,a)}function Ta(e,r,a){return G(e,r*12,a)}function Ea(e,r){let a,n=r==null?void 0:r.in;return e.forEach(s=>{!n&&typeof s=="object"&&(n=$.bind(null,s));const o=E(s,n);(!a||a<o||isNaN(+o))&&(a=o)}),$(n,a||NaN)}function Oa(e,r){let a,n=r==null?void 0:r.in;return e.forEach(s=>{!n&&typeof s=="object"&&(n=$.bind(null,s));const o=E(s,n);(!a||a>o||isNaN(+o))&&(a=o)}),$(n,a||NaN)}function Y(e,r,a){const[n,s]=je(a==null?void 0:a.in,e,r);return+ye(n)==+ye(s)}function nt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function La(e){return!(!nt(e)&&typeof e!="number"||isNaN(+E(e)))}function Se(e,r,a){const[n,s]=je(a==null?void 0:a.in,e,r),o=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return o*12+i}function Fa(e,r,a){const[n,s]=je(a==null?void 0:a.in,e,r),o=Z(n,a),i=Z(s,a),l=+o-Re(o),d=+i-Re(i);return Math.round((l-d)/at)}function st(e,r){const a=E(e,r==null?void 0:r.in),n=a.getMonth();return a.setFullYear(a.getFullYear(),n+1,0),a.setHours(23,59,59,999),a}function z(e,r){const a=E(e,r==null?void 0:r.in);return a.setDate(1),a.setHours(0,0,0,0),a}function Kt(e,r){const a=E(e,r==null?void 0:r.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function ot(e,r){var l,d,h,c;const a=Me(),n=(r==null?void 0:r.weekStartsOn)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??a.weekStartsOn??((c=(h=a.locale)==null?void 0:h.options)==null?void 0:c.weekStartsOn)??0,s=E(e,r==null?void 0:r.in),o=s.getDay(),i=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function Xt(e,r){return ot(e,{...r,weekStartsOn:1})}const Ra={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ia=(e,r,a)=>{let n;const s=Ra[e];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function Be(e){return(r={})=>{const a=r.width?String(r.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const Wa={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Aa={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$a={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ha={date:Be({formats:Wa,defaultWidth:"full"}),time:Be({formats:Aa,defaultWidth:"full"}),dateTime:Be({formats:$a,defaultWidth:"full"})},Ya={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},za=(e,r,a,n)=>Ya[e];function Ce(e){return(r,a)=>{const n=a!=null&&a.context?String(a.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=a!=null&&a.width?String(a.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=a!=null&&a.width?String(a.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(r):r;return s[o]}}const Ba={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ua={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qa={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Va={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ga={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ka={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xa=(e,r)=>{const a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Qa={ordinalNumber:Xa,era:Ce({values:Ba,defaultWidth:"wide"}),quarter:Ce({values:Ua,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ce({values:qa,defaultWidth:"wide"}),day:Ce({values:Va,defaultWidth:"wide"}),dayPeriod:Ce({values:Ga,defaultWidth:"wide",formattingValues:Ka,defaultFormattingWidth:"wide"})};function _e(e){return(r,a={})=>{const n=a.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=r.match(s);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?Za(l,m=>m.test(i)):Ja(l,m=>m.test(i));let h;h=e.valueCallback?e.valueCallback(d):d,h=a.valueCallback?a.valueCallback(h):h;const c=r.slice(i.length);return{value:h,rest:c}}}function Ja(e,r){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&r(e[a]))return a}function Za(e,r){for(let a=0;a<e.length;a++)if(r(e[a]))return a}function en(e){return(r,a={})=>{const n=r.match(e.matchPattern);if(!n)return null;const s=n[0],o=r.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=a.valueCallback?a.valueCallback(i):i;const l=r.slice(s.length);return{value:i,rest:l}}}const tn=/^(\d+)(th|st|nd|rd)?/i,rn=/\d+/i,an={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nn={any:[/^b/i,/^(a|c)/i]},sn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},on={any:[/1/i,/2/i,/3/i,/4/i]},ln={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},un={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fn={ordinalNumber:en({matchPattern:tn,parsePattern:rn,valueCallback:e=>parseInt(e,10)}),era:_e({matchPatterns:an,defaultMatchWidth:"wide",parsePatterns:nn,defaultParseWidth:"any"}),quarter:_e({matchPatterns:sn,defaultMatchWidth:"wide",parsePatterns:on,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_e({matchPatterns:ln,defaultMatchWidth:"wide",parsePatterns:cn,defaultParseWidth:"any"}),day:_e({matchPatterns:dn,defaultMatchWidth:"wide",parsePatterns:un,defaultParseWidth:"any"}),dayPeriod:_e({matchPatterns:hn,defaultMatchWidth:"any",parsePatterns:mn,defaultParseWidth:"any"})},Qt={code:"en-US",formatDistance:Ia,formatLong:Ha,formatRelative:za,localize:Qa,match:fn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gn(e,r){const a=E(e,r==null?void 0:r.in);return J(a,Kt(a))+1}function Jt(e,r){const a=E(e,r==null?void 0:r.in),n=+ge(a)-+Da(a);return Math.round(n/at)+1}function Zt(e,r){var c,m,u,f;const a=E(e,r==null?void 0:r.in),n=a.getFullYear(),s=Me(),o=(r==null?void 0:r.firstWeekContainsDate)??((m=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(u=s.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=$((r==null?void 0:r.in)||e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=Z(i,r),d=$((r==null?void 0:r.in)||e,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const h=Z(d,r);return+a>=+l?n+1:+a>=+h?n:n-1}function pn(e,r){var l,d,h,c;const a=Me(),n=(r==null?void 0:r.firstWeekContainsDate)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((c=(h=a.locale)==null?void 0:h.options)==null?void 0:c.firstWeekContainsDate)??1,s=Zt(e,r),o=$((r==null?void 0:r.in)||e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Z(o,r)}function er(e,r){const a=E(e,r==null?void 0:r.in),n=+Z(a,r)-+pn(a,r);return Math.round(n/at)+1}function T(e,r){const a=e<0?"-":"",n=Math.abs(e).toString().padStart(r,"0");return a+n}const oe={y(e,r){const a=e.getFullYear(),n=a>0?a:1-a;return T(r==="yy"?n%100:n,r.length)},M(e,r){const a=e.getMonth();return r==="M"?String(a+1):T(a+1,2)},d(e,r){return T(e.getDate(),r.length)},a(e,r){const a=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,r){return T(e.getHours()%12||12,r.length)},H(e,r){return T(e.getHours(),r.length)},m(e,r){return T(e.getMinutes(),r.length)},s(e,r){return T(e.getSeconds(),r.length)},S(e,r){const a=r.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,a-3));return T(s,r.length)}},be={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nt={G:function(e,r,a){const n=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(e,r,a){if(r==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return a.ordinalNumber(s,{unit:"year"})}return oe.y(e,r)},Y:function(e,r,a,n){const s=Zt(e,n),o=s>0?s:1-s;if(r==="YY"){const i=o%100;return T(i,2)}return r==="Yo"?a.ordinalNumber(o,{unit:"year"}):T(o,r.length)},R:function(e,r){const a=Gt(e);return T(a,r.length)},u:function(e,r){const a=e.getFullYear();return T(a,r.length)},Q:function(e,r,a){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return T(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,a){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return T(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,a){const n=e.getMonth();switch(r){case"M":case"MM":return oe.M(e,r);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,a){const n=e.getMonth();switch(r){case"L":return String(n+1);case"LL":return T(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,a,n){const s=er(e,n);return r==="wo"?a.ordinalNumber(s,{unit:"week"}):T(s,r.length)},I:function(e,r,a){const n=Jt(e);return r==="Io"?a.ordinalNumber(n,{unit:"week"}):T(n,r.length)},d:function(e,r,a){return r==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):oe.d(e,r)},D:function(e,r,a){const n=gn(e);return r==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):T(n,r.length)},E:function(e,r,a){const n=e.getDay();switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,a,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return T(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,a,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return T(o,r.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,a){const n=e.getDay(),s=n===0?7:n;switch(r){case"i":return String(s);case"ii":return T(s,r.length);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,a){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,a){const n=e.getHours();let s;switch(n===12?s=be.noon:n===0?s=be.midnight:s=n/12>=1?"pm":"am",r){case"b":case"bb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,a){const n=e.getHours();let s;switch(n>=17?s=be.evening:n>=12?s=be.afternoon:n>=4?s=be.morning:s=be.night,r){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,a){if(r==="ho"){let n=e.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return oe.h(e,r)},H:function(e,r,a){return r==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):oe.H(e,r)},K:function(e,r,a){const n=e.getHours()%12;return r==="Ko"?a.ordinalNumber(n,{unit:"hour"}):T(n,r.length)},k:function(e,r,a){let n=e.getHours();return n===0&&(n=24),r==="ko"?a.ordinalNumber(n,{unit:"hour"}):T(n,r.length)},m:function(e,r,a){return r==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):oe.m(e,r)},s:function(e,r,a){return r==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):oe.s(e,r)},S:function(e,r){return oe.S(e,r)},X:function(e,r,a){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return _t(n);case"XXXX":case"XX":return fe(n);case"XXXXX":case"XXX":default:return fe(n,":")}},x:function(e,r,a){const n=e.getTimezoneOffset();switch(r){case"x":return _t(n);case"xxxx":case"xx":return fe(n);case"xxxxx":case"xxx":default:return fe(n,":")}},O:function(e,r,a){const n=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Ct(n,":");case"OOOO":default:return"GMT"+fe(n,":")}},z:function(e,r,a){const n=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Ct(n,":");case"zzzz":default:return"GMT"+fe(n,":")}},t:function(e,r,a){const n=Math.trunc(+e/1e3);return T(n,r.length)},T:function(e,r,a){return T(+e,r.length)}};function Ct(e,r=""){const a=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?a+String(s):a+String(s)+r+T(o,2)}function _t(e,r){return e%60===0?(e>0?"-":"+")+T(Math.abs(e)/60,2):fe(e,r)}function fe(e,r=""){const a=e>0?"-":"+",n=Math.abs(e),s=T(Math.trunc(n/60),2),o=T(n%60,2);return a+s+r+o}const St=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},tr=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},xn=(e,r)=>{const a=e.match(/(P+)(p+)?/)||[],n=a[1],s=a[2];if(!s)return St(e,r);let o;switch(n){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",St(n,r)).replace("{{time}}",tr(s,r))},vn={p:tr,P:xn},bn=/^D+$/,yn=/^Y+$/,wn=["D","DD","YY","YYYY"];function jn(e){return bn.test(e)}function Nn(e){return yn.test(e)}function Cn(e,r,a){const n=_n(e,r,a);if(console.warn(n),wn.includes(e))throw new RangeError(n)}function _n(e,r,a){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pn=/^'([^]*?)'?$/,Mn=/''/g,Dn=/[a-zA-Z]/;function xe(e,r,a){var c,m,u,f,p,v,x,j;const n=Me(),s=(a==null?void 0:a.locale)??n.locale??Qt,o=(a==null?void 0:a.firstWeekContainsDate)??((m=(c=a==null?void 0:a.locale)==null?void 0:c.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=(a==null?void 0:a.weekStartsOn)??((v=(p=a==null?void 0:a.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((j=(x=n.locale)==null?void 0:x.options)==null?void 0:j.weekStartsOn)??0,l=E(e,a==null?void 0:a.in);if(!La(l))throw new RangeError("Invalid time value");let d=r.match(kn).map(N=>{const y=N[0];if(y==="p"||y==="P"){const b=vn[y];return b(N,s.formatLong)}return N}).join("").match(Sn).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const y=N[0];if(y==="'")return{isToken:!1,value:Tn(N)};if(Nt[y])return{isToken:!0,value:N};if(y.match(Dn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:N}});s.localize.preprocessor&&(d=s.localize.preprocessor(l,d));const h={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return d.map(N=>{if(!N.isToken)return N.value;const y=N.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&Nn(y)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&jn(y))&&Cn(y,r,String(e));const b=Nt[y[0]];return b(l,y,s.localize,h)}).join("")}function Tn(e){const r=e.match(Pn);return r?r[1].replace(Mn,"'"):e}function En(e,r){const a=E(e,r==null?void 0:r.in),n=a.getFullYear(),s=a.getMonth(),o=$(a,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function On(e){return Math.trunc(+E(e)/1e3)}function Ln(e,r){const a=E(e,r==null?void 0:r.in),n=a.getMonth();return a.setFullYear(a.getFullYear(),n+1,0),a.setHours(0,0,0,0),E(a,r==null?void 0:r.in)}function Fn(e,r){const a=E(e,r==null?void 0:r.in);return Fa(Ln(a,r),z(a,r),r)+1}function Je(e,r){return+E(e)>+E(r)}function rr(e,r){return+E(e)<+E(r)}function it(e,r,a){const[n,s]=je(a==null?void 0:a.in,e,r);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function Rn(e,r,a){const[n,s]=je(a==null?void 0:a.in,e,r);return n.getFullYear()===s.getFullYear()}function Ue(e,r,a){return H(e,-r,a)}function qe(e,r,a){const n=E(e,a==null?void 0:a.in),s=n.getFullYear(),o=n.getDate(),i=$(e,0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);const l=En(i);return n.setMonth(r,Math.min(o,l)),n}function kt(e,r,a){const n=E(e,a==null?void 0:a.in);return isNaN(+n)?$(e,NaN):(n.setFullYear(r),n)}var S=function(){return S=Object.assign||function(r){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},S.apply(this,arguments)};function In(e,r){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]]);return a}function ar(e,r,a){for(var n=0,s=r.length,o;n<s;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function De(e){return e.mode==="multiple"}function Te(e){return e.mode==="range"}function $e(e){return e.mode==="single"}var Wn={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function An(e,r){return xe(e,"LLLL y",r)}function $n(e,r){return xe(e,"d",r)}function Hn(e,r){return xe(e,"LLLL",r)}function Yn(e){return"".concat(e)}function zn(e,r){return xe(e,"cccccc",r)}function Bn(e,r){return xe(e,"yyyy",r)}var Un=Object.freeze({__proto__:null,formatCaption:An,formatDay:$n,formatMonthCaption:Hn,formatWeekNumber:Yn,formatWeekdayName:zn,formatYearCaption:Bn}),qn=function(e,r,a){return xe(e,"do MMMM (EEEE)",a)},Vn=function(){return"Month: "},Gn=function(){return"Go to next month"},Kn=function(){return"Go to previous month"},Xn=function(e,r){return xe(e,"cccc",r)},Qn=function(e){return"Week n. ".concat(e)},Jn=function(){return"Year: "},Zn=Object.freeze({__proto__:null,labelDay:qn,labelMonthDropdown:Vn,labelNext:Gn,labelPrevious:Kn,labelWeekNumber:Qn,labelWeekday:Xn,labelYearDropdown:Jn});function es(){var e="buttons",r=Wn,a=Qt,n={},s={},o=1,i={},l=new Date;return{captionLayout:e,classNames:r,formatters:Un,labels:Zn,locale:a,modifiersClassNames:n,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function ts(e){var r=e.fromYear,a=e.toYear,n=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=z(n):r&&(o=new Date(r,0,1)),s?i=st(s):a&&(i=new Date(a,11,31)),{fromDate:o?ye(o):void 0,toDate:i?ye(i):void 0}}var nr=g.createContext(void 0);function rs(e){var r,a=e.initialProps,n=es(),s=ts(a),o=s.fromDate,i=s.toDate,l=(r=a.captionLayout)!==null&&r!==void 0?r:n.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;($e(a)||De(a)||Te(a))&&(d=a.onSelect);var h=S(S(S({},n),a),{captionLayout:l,classNames:S(S({},n.classNames),a.classNames),components:S({},a.components),formatters:S(S({},n.formatters),a.formatters),fromDate:o,labels:S(S({},n.labels),a.labels),mode:a.mode||n.mode,modifiers:S(S({},n.modifiers),a.modifiers),modifiersClassNames:S(S({},n.modifiersClassNames),a.modifiersClassNames),onSelect:d,styles:S(S({},n.styles),a.styles),toDate:i});return t.jsx(nr.Provider,{value:h,children:e.children})}function O(){var e=g.useContext(nr);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function sr(e){var r=O(),a=r.locale,n=r.classNames,s=r.styles,o=r.formatters.formatCaption;return t.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:a})})}function as(e){return t.jsx("svg",S({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:t.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function or(e){var r,a,n=e.onChange,s=e.value,o=e.children,i=e.caption,l=e.className,d=e.style,h=O(),c=(a=(r=h.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&a!==void 0?a:as;return t.jsxs("div",{className:l,style:d,children:[t.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),t.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:s,onChange:n,children:o}),t.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[i,t.jsx(c,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function ns(e){var r,a=O(),n=a.fromDate,s=a.toDate,o=a.styles,i=a.locale,l=a.formatters.formatMonthCaption,d=a.classNames,h=a.components,c=a.labels.labelMonthDropdown;if(!n)return t.jsx(t.Fragment,{});if(!s)return t.jsx(t.Fragment,{});var m=[];if(Rn(n,s))for(var u=z(n),f=n.getMonth();f<=s.getMonth();f++)m.push(qe(u,f));else for(var u=z(new Date),f=0;f<=11;f++)m.push(qe(u,f));var p=function(x){var j=Number(x.target.value),N=qe(z(e.displayMonth),j);e.onChange(N)},v=(r=h==null?void 0:h.Dropdown)!==null&&r!==void 0?r:or;return t.jsx(v,{name:"months","aria-label":c(),className:d.dropdown_month,style:o.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(x){return t.jsx("option",{value:x.getMonth(),children:l(x,{locale:i})},x.getMonth())})})}function ss(e){var r,a=e.displayMonth,n=O(),s=n.fromDate,o=n.toDate,i=n.locale,l=n.styles,d=n.classNames,h=n.components,c=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,u=[];if(!s)return t.jsx(t.Fragment,{});if(!o)return t.jsx(t.Fragment,{});for(var f=s.getFullYear(),p=o.getFullYear(),v=f;v<=p;v++)u.push(kt(Kt(new Date),v));var x=function(N){var y=kt(z(a),Number(N.target.value));e.onChange(y)},j=(r=h==null?void 0:h.Dropdown)!==null&&r!==void 0?r:or;return t.jsx(j,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:x,value:a.getFullYear(),caption:c(a,{locale:i}),children:u.map(function(N){return t.jsx("option",{value:N.getFullYear(),children:c(N,{locale:i})},N.getFullYear())})})}function os(e,r){var a=g.useState(e),n=a[0],s=a[1],o=r===void 0?n:r;return[o,s]}function is(e){var r=e.month,a=e.defaultMonth,n=e.today,s=r||a||n||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(o&&Se(o,s)<0){var h=-1*(d-1);s=G(o,h)}return i&&Se(s,i)<0&&(s=i),z(s)}function ls(){var e=O(),r=is(e),a=os(r,e.month),n=a[0],s=a[1],o=function(i){var l;if(!e.disableNavigation){var d=z(i);s(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[n,o]}function cs(e,r){for(var a=r.reverseMonths,n=r.numberOfMonths,s=z(e),o=z(G(s,n)),i=Se(o,s),l=[],d=0;d<i;d++){var h=G(s,d);l.push(h)}return a&&(l=l.reverse()),l}function ds(e,r){if(!r.disableNavigation){var a=r.toDate,n=r.pagedNavigation,s=r.numberOfMonths,o=s===void 0?1:s,i=n?o:1,l=z(e);if(!a)return G(l,i);var d=Se(a,e);if(!(d<o))return G(l,i)}}function us(e,r){if(!r.disableNavigation){var a=r.fromDate,n=r.pagedNavigation,s=r.numberOfMonths,o=s===void 0?1:s,i=n?o:1,l=z(e);if(!a)return G(l,-i);var d=Se(l,a);if(!(d<=0))return G(l,-i)}}var ir=g.createContext(void 0);function hs(e){var r=O(),a=ls(),n=a[0],s=a[1],o=cs(n,r),i=ds(n,r),l=us(n,r),d=function(m){return o.some(function(u){return it(m,u)})},h=function(m,u){d(m)||(u&&rr(m,u)?s(G(m,1+r.numberOfMonths*-1)):s(m))},c={currentMonth:n,displayMonths:o,goToMonth:s,goToDate:h,previousMonth:l,nextMonth:i,isDateDisplayed:d};return t.jsx(ir.Provider,{value:c,children:e.children})}function Ee(){var e=g.useContext(ir);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Pt(e){var r,a=O(),n=a.classNames,s=a.styles,o=a.components,i=Ee().goToMonth,l=function(c){i(G(c,e.displayIndex?-e.displayIndex:0))},d=(r=o==null?void 0:o.CaptionLabel)!==null&&r!==void 0?r:sr,h=t.jsx(d,{id:e.id,displayMonth:e.displayMonth});return t.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[t.jsx("div",{className:n.vhidden,children:h}),t.jsx(ns,{onChange:l,displayMonth:e.displayMonth}),t.jsx(ss,{onChange:l,displayMonth:e.displayMonth})]})}function ms(e){return t.jsx("svg",S({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function fs(e){return t.jsx("svg",S({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ie=g.forwardRef(function(e,r){var a=O(),n=a.classNames,s=a.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),l=S(S({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),t.jsx("button",S({},e,{ref:r,type:"button",className:i,style:l}))});function gs(e){var r,a,n=O(),s=n.dir,o=n.locale,i=n.classNames,l=n.styles,d=n.labels,h=d.labelPrevious,c=d.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return t.jsx(t.Fragment,{});var u=h(e.previousMonth,{locale:o}),f=[i.nav_button,i.nav_button_previous].join(" "),p=c(e.nextMonth,{locale:o}),v=[i.nav_button,i.nav_button_next].join(" "),x=(r=m==null?void 0:m.IconRight)!==null&&r!==void 0?r:fs,j=(a=m==null?void 0:m.IconLeft)!==null&&a!==void 0?a:ms;return t.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&t.jsx(Ie,{name:"previous-month","aria-label":u,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?t.jsx(x,{className:i.nav_icon,style:l.nav_icon}):t.jsx(j,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&t.jsx(Ie,{name:"next-month","aria-label":p,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?t.jsx(j,{className:i.nav_icon,style:l.nav_icon}):t.jsx(x,{className:i.nav_icon,style:l.nav_icon})})]})}function Mt(e){var r=O().numberOfMonths,a=Ee(),n=a.previousMonth,s=a.nextMonth,o=a.goToMonth,i=a.displayMonths,l=i.findIndex(function(p){return it(e.displayMonth,p)}),d=l===0,h=l===i.length-1,c=r>1&&(d||!h),m=r>1&&(h||!d),u=function(){n&&o(n)},f=function(){s&&o(s)};return t.jsx(gs,{displayMonth:e.displayMonth,hideNext:c,hidePrevious:m,nextMonth:s,previousMonth:n,onPreviousClick:u,onNextClick:f})}function ps(e){var r,a=O(),n=a.classNames,s=a.disableNavigation,o=a.styles,i=a.captionLayout,l=a.components,d=(r=l==null?void 0:l.CaptionLabel)!==null&&r!==void 0?r:sr,h;return s?h=t.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?h=t.jsx(Pt,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?h=t.jsxs(t.Fragment,{children:[t.jsx(Pt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),t.jsx(Mt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=t.jsxs(t.Fragment,{children:[t.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(Mt,{displayMonth:e.displayMonth,id:e.id})]}),t.jsx("div",{className:n.caption,style:o.caption,children:h})}function xs(e){var r=O(),a=r.footer,n=r.styles,s=r.classNames.tfoot;return a?t.jsx("tfoot",{className:s,style:n.tfoot,children:t.jsx("tr",{children:t.jsx("td",{colSpan:8,children:a})})}):t.jsx(t.Fragment,{})}function vs(e,r,a){for(var n=a?ge(new Date):Z(new Date,{locale:e,weekStartsOn:r}),s=[],o=0;o<7;o++){var i=H(n,o);s.push(i)}return s}function bs(){var e=O(),r=e.classNames,a=e.styles,n=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,h=vs(s,o,i);return t.jsxs("tr",{style:a.head_row,className:r.head_row,children:[n&&t.jsx("td",{style:a.head_cell,className:r.head_cell}),h.map(function(c,m){return t.jsx("th",{scope:"col",className:r.head_cell,style:a.head_cell,"aria-label":d(c,{locale:s}),children:l(c,{locale:s})},m)})]})}function ys(){var e,r=O(),a=r.classNames,n=r.styles,s=r.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:bs;return t.jsx("thead",{style:n.head,className:a.head,children:t.jsx(o,{})})}function ws(e){var r=O(),a=r.locale,n=r.formatters.formatDay;return t.jsx(t.Fragment,{children:n(e.date,{locale:a})})}var lt=g.createContext(void 0);function js(e){if(!De(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return t.jsx(lt.Provider,{value:r,children:e.children})}return t.jsx(Ns,{initialProps:e.initialProps,children:e.children})}function Ns(e){var r=e.initialProps,a=e.children,n=r.selected,s=r.min,o=r.max,i=function(h,c,m){var u,f;(u=r.onDayClick)===null||u===void 0||u.call(r,h,c,m);var p=!!(c.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var v=!!(!c.selected&&o&&(n==null?void 0:n.length)===o);if(!v){var x=n?ar([],n):[];if(c.selected){var j=x.findIndex(function(N){return Y(h,N)});x.splice(j,1)}else x.push(h);(f=r.onSelect)===null||f===void 0||f.call(r,x,h,c,m)}}},l={disabled:[]};n&&l.disabled.push(function(h){var c=o&&n.length>o-1,m=n.some(function(u){return Y(u,h)});return!!(c&&!m)});var d={selected:n,onDayClick:i,modifiers:l};return t.jsx(lt.Provider,{value:d,children:a})}function ct(){var e=g.useContext(lt);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Cs(e,r){var a=r||{},n=a.from,s=a.to;return n&&s?Y(s,e)&&Y(n,e)?void 0:Y(s,e)?{from:s,to:void 0}:Y(n,e)?void 0:Je(n,e)?{from:e,to:s}:{from:n,to:e}:s?Je(e,s)?{from:s,to:e}:{from:e,to:s}:n?rr(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var dt=g.createContext(void 0);function _s(e){if(!Te(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return t.jsx(dt.Provider,{value:r,children:e.children})}return t.jsx(Ss,{initialProps:e.initialProps,children:e.children})}function Ss(e){var r=e.initialProps,a=e.children,n=r.selected,s=n||{},o=s.from,i=s.to,l=r.min,d=r.max,h=function(f,p,v){var x,j;(x=r.onDayClick)===null||x===void 0||x.call(r,f,p,v);var N=Cs(f,n);(j=r.onSelect)===null||j===void 0||j.call(r,N,f,p,v)},c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(c.range_start=[o],i?(c.range_end=[i],Y(o,i)||(c.range_middle=[{after:o,before:i}])):c.range_end=[o]):i&&(c.range_start=[i],c.range_end=[i]),l&&(o&&!i&&c.disabled.push({after:Ue(o,l-1),before:H(o,l-1)}),o&&i&&c.disabled.push({after:o,before:H(o,l-1)}),!o&&i&&c.disabled.push({after:Ue(i,l-1),before:H(i,l-1)})),d){if(o&&!i&&(c.disabled.push({before:H(o,-d+1)}),c.disabled.push({after:H(o,d-1)})),o&&i){var m=J(i,o)+1,u=d-m;c.disabled.push({before:Ue(o,u)}),c.disabled.push({after:H(i,u)})}!o&&i&&(c.disabled.push({before:H(i,-d+1)}),c.disabled.push({after:H(i,d-1)}))}return t.jsx(dt.Provider,{value:{selected:n,onDayClick:h,modifiers:c},children:a})}function ut(){var e=g.useContext(dt);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Le(e){return Array.isArray(e)?ar([],e):e!==void 0?[e]:[]}function ks(e){var r={};return Object.entries(e).forEach(function(a){var n=a[0],s=a[1];r[n]=Le(s)}),r}var K;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(K||(K={}));var Ps=K.Selected,te=K.Disabled,Ms=K.Hidden,Ds=K.Today,Ve=K.RangeEnd,Ge=K.RangeMiddle,Ke=K.RangeStart,Ts=K.Outside;function Es(e,r,a){var n,s=(n={},n[Ps]=Le(e.selected),n[te]=Le(e.disabled),n[Ms]=Le(e.hidden),n[Ds]=[e.today],n[Ve]=[],n[Ge]=[],n[Ke]=[],n[Ts]=[],n);return e.fromDate&&s[te].push({before:e.fromDate}),e.toDate&&s[te].push({after:e.toDate}),De(e)?s[te]=s[te].concat(r.modifiers[te]):Te(e)&&(s[te]=s[te].concat(a.modifiers[te]),s[Ke]=a.modifiers[Ke],s[Ge]=a.modifiers[Ge],s[Ve]=a.modifiers[Ve]),s}var lr=g.createContext(void 0);function Os(e){var r=O(),a=ct(),n=ut(),s=Es(r,a,n),o=ks(r.modifiers),i=S(S({},s),o);return t.jsx(lr.Provider,{value:i,children:e.children})}function cr(){var e=g.useContext(lr);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Ls(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Fs(e){return!!(e&&typeof e=="object"&&"from"in e)}function Rs(e){return!!(e&&typeof e=="object"&&"after"in e)}function Is(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ws(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function As(e,r){var a,n=r.from,s=r.to;if(n&&s){var o=J(s,n)<0;o&&(a=[s,n],n=a[0],s=a[1]);var i=J(e,n)>=0&&J(s,e)>=0;return i}return s?Y(s,e):n?Y(n,e):!1}function $s(e){return nt(e)}function Hs(e){return Array.isArray(e)&&e.every(nt)}function Ys(e,r){return r.some(function(a){if(typeof a=="boolean")return a;if($s(a))return Y(e,a);if(Hs(a))return a.includes(e);if(Fs(a))return As(e,a);if(Ws(a))return a.dayOfWeek.includes(e.getDay());if(Ls(a)){var n=J(a.before,e),s=J(a.after,e),o=n>0,i=s<0,l=Je(a.before,a.after);return l?i&&o:o||i}return Rs(a)?J(e,a.after)>0:Is(a)?J(a.before,e)>0:typeof a=="function"?a(e):!1})}function ht(e,r,a){var n=Object.keys(r).reduce(function(o,i){var l=r[i];return Ys(e,l)&&o.push(i),o},[]),s={};return n.forEach(function(o){return s[o]=!0}),a&&!it(e,a)&&(s.outside=!0),s}function zs(e,r){for(var a=z(e[0]),n=st(e[e.length-1]),s,o,i=a;i<=n;){var l=ht(i,r),d=!l.disabled&&!l.hidden;if(!d){i=H(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=H(i,1)}return o||s}var Bs=365;function dr(e,r){var a=r.moveBy,n=r.direction,s=r.context,o=r.modifiers,i=r.retry,l=i===void 0?{count:0,lastFocused:e}:i,d=s.weekStartsOn,h=s.fromDate,c=s.toDate,m=s.locale,u={day:H,week:Qe,month:G,year:Ta,startOfWeek:function(x){return s.ISOWeek?ge(x):Z(x,{locale:m,weekStartsOn:d})},endOfWeek:function(x){return s.ISOWeek?Xt(x):ot(x,{locale:m,weekStartsOn:d})}},f=u[a](e,n==="after"?1:-1);n==="before"&&h?f=Ea([h,f]):n==="after"&&c&&(f=Oa([c,f]));var p=!0;if(o){var v=ht(f,o);p=!v.disabled&&!v.hidden}return p?f:l.count>Bs?l.lastFocused:dr(f,{moveBy:a,direction:n,context:s,modifiers:o,retry:S(S({},l),{count:l.count+1})})}var ur=g.createContext(void 0);function Us(e){var r=Ee(),a=cr(),n=g.useState(),s=n[0],o=n[1],i=g.useState(),l=i[0],d=i[1],h=zs(r.displayMonths,a),c=s??(l&&r.isDateDisplayed(l))?l:h,m=function(){d(s),o(void 0)},u=function(x){o(x)},f=O(),p=function(x,j){if(s){var N=dr(s,{moveBy:x,direction:j,context:f,modifiers:a});Y(s,N)||(r.goToDate(N,s),u(N))}},v={focusedDay:s,focusTarget:c,blur:m,focus:u,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return t.jsx(ur.Provider,{value:v,children:e.children})}function mt(){var e=g.useContext(ur);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function qs(e,r){var a=cr(),n=ht(e,a,r);return n}var ft=g.createContext(void 0);function Vs(e){if(!$e(e.initialProps)){var r={selected:void 0};return t.jsx(ft.Provider,{value:r,children:e.children})}return t.jsx(Gs,{initialProps:e.initialProps,children:e.children})}function Gs(e){var r=e.initialProps,a=e.children,n=function(o,i,l){var d,h,c;if((d=r.onDayClick)===null||d===void 0||d.call(r,o,i,l),i.selected&&!r.required){(h=r.onSelect)===null||h===void 0||h.call(r,void 0,o,i,l);return}(c=r.onSelect)===null||c===void 0||c.call(r,o,o,i,l)},s={selected:r.selected,onDayClick:n};return t.jsx(ft.Provider,{value:s,children:a})}function hr(){var e=g.useContext(ft);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Ks(e,r){var a=O(),n=hr(),s=ct(),o=ut(),i=mt(),l=i.focusDayAfter,d=i.focusDayBefore,h=i.focusWeekAfter,c=i.focusWeekBefore,m=i.blur,u=i.focus,f=i.focusMonthBefore,p=i.focusMonthAfter,v=i.focusYearBefore,x=i.focusYearAfter,j=i.focusStartOfWeek,N=i.focusEndOfWeek,y=function(_){var w,U,he,Ye;$e(a)?(w=n.onDayClick)===null||w===void 0||w.call(n,e,r,_):De(a)?(U=s.onDayClick)===null||U===void 0||U.call(s,e,r,_):Te(a)?(he=o.onDayClick)===null||he===void 0||he.call(o,e,r,_):(Ye=a.onDayClick)===null||Ye===void 0||Ye.call(a,e,r,_)},b=function(_){var w;u(e),(w=a.onDayFocus)===null||w===void 0||w.call(a,e,r,_)},M=function(_){var w;m(),(w=a.onDayBlur)===null||w===void 0||w.call(a,e,r,_)},D=function(_){var w;(w=a.onDayMouseEnter)===null||w===void 0||w.call(a,e,r,_)},A=function(_){var w;(w=a.onDayMouseLeave)===null||w===void 0||w.call(a,e,r,_)},I=function(_){var w;(w=a.onDayPointerEnter)===null||w===void 0||w.call(a,e,r,_)},ne=function(_){var w;(w=a.onDayPointerLeave)===null||w===void 0||w.call(a,e,r,_)},ee=function(_){var w;(w=a.onDayTouchCancel)===null||w===void 0||w.call(a,e,r,_)},W=function(_){var w;(w=a.onDayTouchEnd)===null||w===void 0||w.call(a,e,r,_)},q=function(_){var w;(w=a.onDayTouchMove)===null||w===void 0||w.call(a,e,r,_)},X=function(_){var w;(w=a.onDayTouchStart)===null||w===void 0||w.call(a,e,r,_)},ve=function(_){var w;(w=a.onDayKeyUp)===null||w===void 0||w.call(a,e,r,_)},se=function(_){var w;switch(_.key){case"ArrowLeft":_.preventDefault(),_.stopPropagation(),a.dir==="rtl"?l():d();break;case"ArrowRight":_.preventDefault(),_.stopPropagation(),a.dir==="rtl"?d():l();break;case"ArrowDown":_.preventDefault(),_.stopPropagation(),h();break;case"ArrowUp":_.preventDefault(),_.stopPropagation(),c();break;case"PageUp":_.preventDefault(),_.stopPropagation(),_.shiftKey?v():f();break;case"PageDown":_.preventDefault(),_.stopPropagation(),_.shiftKey?x():p();break;case"Home":_.preventDefault(),_.stopPropagation(),j();break;case"End":_.preventDefault(),_.stopPropagation(),N();break}(w=a.onDayKeyDown)===null||w===void 0||w.call(a,e,r,_)},Q={onClick:y,onFocus:b,onBlur:M,onKeyDown:se,onKeyUp:ve,onMouseEnter:D,onMouseLeave:A,onPointerEnter:I,onPointerLeave:ne,onTouchCancel:ee,onTouchEnd:W,onTouchMove:q,onTouchStart:X};return Q}function Xs(){var e=O(),r=hr(),a=ct(),n=ut(),s=$e(e)?r.selected:De(e)?a.selected:Te(e)?n.selected:void 0;return s}function Qs(e){return Object.values(K).includes(e)}function Js(e,r){var a=[e.classNames.day];return Object.keys(r).forEach(function(n){var s=e.modifiersClassNames[n];if(s)a.push(s);else if(Qs(n)){var o=e.classNames["day_".concat(n)];o&&a.push(o)}}),a}function Zs(e,r){var a=S({},e.styles.day);return Object.keys(r).forEach(function(n){var s;a=S(S({},a),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),a}function eo(e,r,a){var n,s,o,i=O(),l=mt(),d=qs(e,r),h=Ks(e,d),c=Xs(),m=!!(i.onDayClick||i.mode!=="default");g.useEffect(function(){var D;d.outside||l.focusedDay&&m&&Y(l.focusedDay,e)&&((D=a.current)===null||D===void 0||D.focus())},[l.focusedDay,e,a,m,d.outside]);var u=Js(i,d).join(" "),f=Zs(i,d),p=!!(d.outside&&!i.showOutsideDays||d.hidden),v=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:ws,x=t.jsx(v,{date:e,displayMonth:r,activeModifiers:d}),j={style:f,className:u,children:x,role:"gridcell"},N=l.focusTarget&&Y(l.focusTarget,e)&&!d.outside,y=l.focusedDay&&Y(l.focusedDay,e),b=S(S(S({},j),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=y||N?0:-1,n)),h),M={isButton:m,isHidden:p,activeModifiers:d,selectedDays:c,buttonProps:b,divProps:j};return M}function to(e){var r=g.useRef(null),a=eo(e.date,e.displayMonth,r);return a.isHidden?t.jsx("div",{role:"gridcell"}):a.isButton?t.jsx(Ie,S({name:"day",ref:r},a.buttonProps)):t.jsx("div",S({},a.divProps))}function ro(e){var r=e.number,a=e.dates,n=O(),s=n.onWeekNumberClick,o=n.styles,i=n.classNames,l=n.locale,d=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,c=h(Number(r),{locale:l});if(!s)return t.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:c});var m=d(Number(r),{locale:l}),u=function(f){s(r,a,f)};return t.jsx(Ie,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:u,children:c})}function ao(e){var r,a,n=O(),s=n.styles,o=n.classNames,i=n.showWeekNumber,l=n.components,d=(r=l==null?void 0:l.Day)!==null&&r!==void 0?r:to,h=(a=l==null?void 0:l.WeekNumber)!==null&&a!==void 0?a:ro,c;return i&&(c=t.jsx("td",{className:o.cell,style:s.cell,children:t.jsx(h,{number:e.weekNumber,dates:e.dates})})),t.jsxs("tr",{className:o.row,style:s.row,children:[c,e.dates.map(function(m){return t.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:t.jsx(d,{displayMonth:e.displayMonth,date:m})},On(m))})]})}function Dt(e,r,a){for(var n=a!=null&&a.ISOWeek?Xt(r):ot(r,a),s=a!=null&&a.ISOWeek?ge(e):Z(e,a),o=J(n,s),i=[],l=0;l<=o;l++)i.push(H(s,l));var d=i.reduce(function(h,c){var m=a!=null&&a.ISOWeek?Jt(c):er(c,a),u=h.find(function(f){return f.weekNumber===m});return u?(u.dates.push(c),h):(h.push({weekNumber:m,dates:[c]}),h)},[]);return d}function no(e,r){var a=Dt(z(e),st(e),r);if(r!=null&&r.useFixedWeeks){var n=Fn(e,r);if(n<6){var s=a[a.length-1],o=s.dates[s.dates.length-1],i=Qe(o,6-n),l=Dt(Qe(o,1),i,r);a.push.apply(a,l)}}return a}function so(e){var r,a,n,s=O(),o=s.locale,i=s.classNames,l=s.styles,d=s.hideHead,h=s.fixedWeeks,c=s.components,m=s.weekStartsOn,u=s.firstWeekContainsDate,f=s.ISOWeek,p=no(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:f,locale:o,weekStartsOn:m,firstWeekContainsDate:u}),v=(r=c==null?void 0:c.Head)!==null&&r!==void 0?r:ys,x=(a=c==null?void 0:c.Row)!==null&&a!==void 0?a:ao,j=(n=c==null?void 0:c.Footer)!==null&&n!==void 0?n:xs;return t.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&t.jsx(v,{}),t.jsx("tbody",{className:i.tbody,style:l.tbody,children:p.map(function(N){return t.jsx(x,{displayMonth:e.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),t.jsx(j,{displayMonth:e.displayMonth})]})}function oo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var io=oo()?g.useLayoutEffect:g.useEffect,Xe=!1,lo=0;function Tt(){return"react-day-picker-".concat(++lo)}function co(e){var r,a=e??(Xe?Tt():null),n=g.useState(a),s=n[0],o=n[1];return io(function(){s===null&&o(Tt())},[]),g.useEffect(function(){Xe===!1&&(Xe=!0)},[]),(r=e??s)!==null&&r!==void 0?r:void 0}function uo(e){var r,a,n=O(),s=n.dir,o=n.classNames,i=n.styles,l=n.components,d=Ee().displayMonths,h=co(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),c=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],u=i.month,f=e.displayIndex===0,p=e.displayIndex===d.length-1,v=!f&&!p;s==="rtl"&&(r=[f,p],p=r[0],f=r[1]),f&&(m.push(o.caption_start),u=S(S({},u),i.caption_start)),p&&(m.push(o.caption_end),u=S(S({},u),i.caption_end)),v&&(m.push(o.caption_between),u=S(S({},u),i.caption_between));var x=(a=l==null?void 0:l.Caption)!==null&&a!==void 0?a:ps;return t.jsxs("div",{className:m.join(" "),style:u,children:[t.jsx(x,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(so,{id:c,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function ho(e){var r=O(),a=r.classNames,n=r.styles;return t.jsx("div",{className:a.months,style:n.months,children:e.children})}function mo(e){var r,a,n=e.initialProps,s=O(),o=mt(),i=Ee(),l=g.useState(!1),d=l[0],h=l[1];g.useEffect(function(){s.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),h(!0)))},[s.initialFocus,d,o.focus,o.focusTarget,o]);var c=[s.classNames.root,s.className];s.numberOfMonths>1&&c.push(s.classNames.multiple_months),s.showWeekNumber&&c.push(s.classNames.with_weeknumber);var m=S(S({},s.styles.root),s.style),u=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,v){var x;return S(S({},p),(x={},x[v]=n[v],x))},{}),f=(a=(r=n.components)===null||r===void 0?void 0:r.Months)!==null&&a!==void 0?a:ho;return t.jsx("div",S({className:c.join(" "),style:m,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},u,{children:t.jsx(f,{children:i.displayMonths.map(function(p,v){return t.jsx(uo,{displayIndex:v,displayMonth:p},v)})})}))}function fo(e){var r=e.children,a=In(e,["children"]);return t.jsx(rs,{initialProps:a,children:t.jsx(hs,{children:t.jsx(Vs,{initialProps:a,children:t.jsx(js,{initialProps:a,children:t.jsx(_s,{initialProps:a,children:t.jsx(Os,{children:t.jsx(Us,{children:r})})})})})})})}function go(e){return t.jsx(fo,S({},e,{children:t.jsx(mo,{initialProps:e})}))}function mr({className:e,classNames:r,showOutsideDays:a=!0,...n}){return t.jsx(go,{showOutsideDays:a,className:re("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:re(yt({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:re("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:re(yt({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({className:s,...o})=>t.jsx(ma,{className:re("h-4 w-4",s),...o}),IconRight:({className:s,...o})=>t.jsx(ga,{className:re("h-4 w-4",s),...o})},...n})}mr.displayName="Calendar";var gt="Popover",[fr,Ci]=rt(gt,[At]),Oe=At(),[po,ue]=fr(gt),gr=e=>{const{__scopePopover:r,children:a,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=Oe(r),d=g.useRef(null),[h,c]=g.useState(!1),[m=!1,u]=Ut({prop:n,defaultProp:s,onChange:o});return t.jsx(Gr,{...l,children:t.jsx(po,{scope:r,contentId:ra(),triggerRef:d,open:m,onOpenChange:u,onOpenToggle:g.useCallback(()=>u(f=>!f),[u]),hasCustomAnchor:h,onCustomAnchorAdd:g.useCallback(()=>c(!0),[]),onCustomAnchorRemove:g.useCallback(()=>c(!1),[]),modal:i,children:a})})};gr.displayName=gt;var pr="PopoverAnchor",xo=g.forwardRef((e,r)=>{const{__scopePopover:a,...n}=e,s=ue(pr,a),o=Oe(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(i(),()=>l()),[i,l]),t.jsx($t,{...o,...n,ref:r})});xo.displayName=pr;var xr="PopoverTrigger",vr=g.forwardRef((e,r)=>{const{__scopePopover:a,...n}=e,s=ue(xr,a),o=Oe(a),i=pe(r,s.triggerRef),l=t.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Nr(s.open),...n,ref:i,onClick:V(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:t.jsx($t,{asChild:!0,...o,children:l})});vr.displayName=xr;var pt="PopoverPortal",[vo,bo]=fr(pt,{forceMount:void 0}),br=e=>{const{__scopePopover:r,forceMount:a,children:n,container:s}=e,o=ue(pt,r);return t.jsx(vo,{scope:r,forceMount:a,children:t.jsx(qt,{present:a||o.open,children:t.jsx(aa,{asChild:!0,container:s,children:n})})})};br.displayName=pt;var we="PopoverContent",yr=g.forwardRef((e,r)=>{const a=bo(we,e.__scopePopover),{forceMount:n=a.forceMount,...s}=e,o=ue(we,e.__scopePopover);return t.jsx(qt,{present:n||o.open,children:o.modal?t.jsx(yo,{...s,ref:r}):t.jsx(wo,{...s,ref:r})})});yr.displayName=we;var yo=g.forwardRef((e,r)=>{const a=ue(we,e.__scopePopover),n=g.useRef(null),s=pe(r,n),o=g.useRef(!1);return g.useEffect(()=>{const i=n.current;if(i)return na(i)},[]),t.jsx(sa,{as:Vr,allowPinchZoom:!0,children:t.jsx(wr,{...e,ref:s,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:V(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=a.triggerRef.current)==null||l.focus()}),onPointerDownOutside:V(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:V(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),wo=g.forwardRef((e,r)=>{const a=ue(we,e.__scopePopover),n=g.useRef(!1),s=g.useRef(!1);return t.jsx(wr,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=a.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((h=a.triggerRef.current)==null?void 0:h.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),wr=g.forwardRef((e,r)=>{const{__scopePopover:a,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:c,...m}=e,u=ue(we,a),f=Oe(a);return oa(),t.jsx(ia,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:t.jsx(la,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>u.onOpenChange(!1),children:t.jsx(Kr,{"data-state":Nr(u.open),role:"dialog",id:u.contentId,...f,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),jr="PopoverClose",jo=g.forwardRef((e,r)=>{const{__scopePopover:a,...n}=e,s=ue(jr,a);return t.jsx(de.button,{type:"button",...n,ref:r,onClick:V(e.onClick,()=>s.onOpenChange(!1))})});jo.displayName=jr;var No="PopoverArrow",Co=g.forwardRef((e,r)=>{const{__scopePopover:a,...n}=e,s=Oe(a);return t.jsx(Xr,{...s,...n,ref:r})});Co.displayName=No;function Nr(e){return e?"open":"closed"}var _o=gr,So=vr,ko=br,Cr=yr;const Po=_o,Mo=So,_r=g.forwardRef(({className:e,align:r="center",sideOffset:a=4,...n},s)=>t.jsx(ko,{children:t.jsx(Cr,{ref:s,align:r,sideOffset:a,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));_r.displayName=Cr.displayName;var Sr=["PageUp","PageDown"],kr=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pr={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ne="Slider",[Ze,Do,To]=Qr(Ne),[Mr,_i]=rt(Ne,[To]),[Eo,He]=Mr(Ne),Dr=g.forwardRef((e,r)=>{const{name:a,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[n],value:c,onValueChange:m=()=>{},onValueCommit:u=()=>{},inverted:f=!1,form:p,...v}=e,x=g.useRef(new Set),j=g.useRef(0),y=i==="horizontal"?Oo:Lo,[b=[],M]=Ut({prop:c,defaultProp:h,onChange:W=>{var X;(X=[...x.current][j.current])==null||X.focus(),m(W)}}),D=g.useRef(b);function A(W){const q=Ao(b,W);ee(W,q)}function I(W){ee(W,j.current)}function ne(){const W=D.current[j.current];b[j.current]!==W&&u(b)}function ee(W,q,{commit:X}={commit:!1}){const ve=zo(o),se=Bo(Math.round((W-n)/o)*o+n,ve),Q=Ht(se,[n,s]);M((_=[])=>{const w=Io(_,Q,q);if(Yo(w,d*o)){j.current=w.indexOf(Q);const U=String(w)!==String(_);return U&&X&&u(w),U?w:_}else return _})}return t.jsx(Eo,{scope:e.__scopeSlider,name:a,disabled:l,min:n,max:s,valueIndexToChangeRef:j,thumbs:x.current,values:b,orientation:i,form:p,children:t.jsx(Ze.Provider,{scope:e.__scopeSlider,children:t.jsx(Ze.Slot,{scope:e.__scopeSlider,children:t.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:r,onPointerDown:V(v.onPointerDown,()=>{l||(D.current=b)}),min:n,max:s,inverted:f,onSlideStart:l?void 0:A,onSlideMove:l?void 0:I,onSlideEnd:l?void 0:ne,onHomeKeyDown:()=>!l&&ee(n,0,{commit:!0}),onEndKeyDown:()=>!l&&ee(s,b.length-1,{commit:!0}),onStepKeyDown:({event:W,direction:q})=>{if(!l){const se=Sr.includes(W.key)||W.shiftKey&&kr.includes(W.key)?10:1,Q=j.current,_=b[Q],w=o*se*q;ee(_+w,Q,{commit:!0})}}})})})})});Dr.displayName=Ne;var[Tr,Er]=Mr(Ne,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Oo=g.forwardRef((e,r)=>{const{min:a,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:d,onStepKeyDown:h,...c}=e,[m,u]=g.useState(null),f=pe(r,y=>u(y)),p=g.useRef(void 0),v=Jr(s),x=v==="ltr",j=x&&!o||!x&&o;function N(y){const b=p.current||m.getBoundingClientRect(),M=[0,b.width],A=xt(M,j?[a,n]:[n,a]);return p.current=b,A(y-b.left)}return t.jsx(Tr,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:t.jsx(Or,{dir:v,"data-orientation":"horizontal",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const b=N(y.clientX);i==null||i(b)},onSlideMove:y=>{const b=N(y.clientX);l==null||l(b)},onSlideEnd:()=>{p.current=void 0,d==null||d()},onStepKeyDown:y=>{const M=Pr[j?"from-left":"from-right"].includes(y.key);h==null||h({event:y,direction:M?-1:1})}})})}),Lo=g.forwardRef((e,r)=>{const{min:a,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:d,...h}=e,c=g.useRef(null),m=pe(r,c),u=g.useRef(void 0),f=!s;function p(v){const x=u.current||c.current.getBoundingClientRect(),j=[0,x.height],y=xt(j,f?[n,a]:[a,n]);return u.current=x,y(v-x.top)}return t.jsx(Tr,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:t.jsx(Or,{"data-orientation":"vertical",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const x=p(v.clientY);o==null||o(x)},onSlideMove:v=>{const x=p(v.clientY);i==null||i(x)},onSlideEnd:()=>{u.current=void 0,l==null||l()},onStepKeyDown:v=>{const j=Pr[f?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:j?-1:1})}})})}),Or=g.forwardRef((e,r)=>{const{__scopeSlider:a,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:d,...h}=e,c=He(Ne,a);return t.jsx(de.span,{...h,ref:r,onKeyDown:V(e.onKeyDown,m=>{m.key==="Home"?(i(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):Sr.concat(kr).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:V(e.onPointerDown,m=>{const u=m.target;u.setPointerCapture(m.pointerId),m.preventDefault(),c.thumbs.has(u)?u.focus():n(m)}),onPointerMove:V(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:V(e.onPointerUp,m=>{const u=m.target;u.hasPointerCapture(m.pointerId)&&(u.releasePointerCapture(m.pointerId),o(m))})})}),Lr="SliderTrack",Fr=g.forwardRef((e,r)=>{const{__scopeSlider:a,...n}=e,s=He(Lr,a);return t.jsx(de.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:r})});Fr.displayName=Lr;var et="SliderRange",Rr=g.forwardRef((e,r)=>{const{__scopeSlider:a,...n}=e,s=He(et,a),o=Er(et,a),i=g.useRef(null),l=pe(r,i),d=s.values.length,h=s.values.map(u=>Wr(u,s.min,s.max)),c=d>1?Math.min(...h):0,m=100-Math.max(...h);return t.jsx(de.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[o.startEdge]:c+"%",[o.endEdge]:m+"%"}})});Rr.displayName=et;var tt="SliderThumb",Ir=g.forwardRef((e,r)=>{const a=Do(e.__scopeSlider),[n,s]=g.useState(null),o=pe(r,l=>s(l)),i=g.useMemo(()=>n?a().findIndex(l=>l.ref.current===n):-1,[a,n]);return t.jsx(Fo,{...e,ref:o,index:i})}),Fo=g.forwardRef((e,r)=>{const{__scopeSlider:a,index:n,name:s,...o}=e,i=He(tt,a),l=Er(tt,a),[d,h]=g.useState(null),c=pe(r,N=>h(N)),m=d?i.form||!!d.closest("form"):!0,u=Zr(d),f=i.values[n],p=f===void 0?0:Wr(f,i.min,i.max),v=Wo(n,i.values.length),x=u==null?void 0:u[l.size],j=x?$o(x,p,l.direction):0;return g.useEffect(()=>{if(d)return i.thumbs.add(d),()=>{i.thumbs.delete(d)}},[d,i.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${j}px)`},children:[t.jsx(Ze.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(de.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":i.min,"aria-valuenow":f,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:c,style:f===void 0?{display:"none"}:e.style,onFocus:V(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),m&&t.jsx(Ro,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:f},n)]})});Ir.displayName=tt;var Ro=e=>{const{value:r,...a}=e,n=g.useRef(null),s=ea(r);return g.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==r&&d){const h=new Event("input",{bubbles:!0});d.call(o,r),o.dispatchEvent(h)}},[s,r]),t.jsx("input",{style:{display:"none"},...a,ref:n,defaultValue:r})};function Io(e=[],r,a){const n=[...e];return n[a]=r,n.sort((s,o)=>s-o)}function Wr(e,r,a){const o=100/(a-r)*(e-r);return Ht(o,[0,100])}function Wo(e,r){return r>2?`Value ${e+1} of ${r}`:r===2?["Minimum","Maximum"][e]:void 0}function Ao(e,r){if(e.length===1)return 0;const a=e.map(s=>Math.abs(s-r)),n=Math.min(...a);return a.indexOf(n)}function $o(e,r,a){const n=e/2,o=xt([0,50],[0,n]);return(n-o(r)*a)*a}function Ho(e){return e.slice(0,-1).map((r,a)=>e[a+1]-r)}function Yo(e,r){if(r>0){const a=Ho(e);return Math.min(...a)>=r}return!0}function xt(e,r){return a=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(e[1]-e[0]);return r[0]+n*(a-e[0])}}function zo(e){return(String(e).split(".")[1]||"").length}function Bo(e,r){const a=Math.pow(10,r);return Math.round(e*a)/a}var Ar=Dr,Uo=Fr,qo=Rr,Vo=Ir;const $r=g.forwardRef(({className:e,...r},a)=>t.jsxs(Ar,{ref:a,className:re("relative flex w-full touch-none select-none items-center",e),...r,children:[t.jsx(Uo,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:t.jsx(qo,{className:"absolute h-full bg-primary"})}),t.jsx(Vo,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));$r.displayName=Ar.displayName;function Go({onSubmit:e,initialData:r,selectedDate:a}){const[n,s]=g.useState({date_recorded:a,positive_speech_count:(r==null?void 0:r.positive_speech_count)||0,avoided_lashon_hara:(r==null?void 0:r.avoided_lashon_hara)||0,gave_compliments:(r==null?void 0:r.gave_compliments)||0,spoke_words_of_torah:(r==null?void 0:r.spoke_words_of_torah)||0,helped_through_speech:(r==null?void 0:r.helped_through_speech)||0,reflection_notes:(r==null?void 0:r.reflection_notes)||"",daily_goal:(r==null?void 0:r.daily_goal)||"",challenges_faced:(r==null?void 0:r.challenges_faced)||"",improvements_noticed:(r==null?void 0:r.improvements_noticed)||"",overall_rating:(r==null?void 0:r.overall_rating)||3}),[o,i]=g.useState(!1);g.useEffect(()=>{s(c=>({...c,date_recorded:a}))},[a]);const l=async c=>{c.preventDefault(),i(!0);try{await e(n)}catch(m){console.error("Error submitting form:",m)}finally{i(!1)}},d=(c,m)=>{s(u=>({...u,[c]:m}))},h=c=>({1:"Challenging day - many struggles",2:"Difficult - some lapses",3:"Average - room for improvement",4:"Good - mostly positive speech",5:"Excellent - mindful and kind speech"})[c]||"";return t.jsxs(k,{children:[t.jsxs(F,{children:[t.jsxs(R,{className:"flex items-center gap-2",children:[t.jsx(ce,{className:"h-5 w-5 text-green-600"}),"Daily Shmiras HaLashon Reflection"]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Track your speech awareness for ",new Date(a).toLocaleDateString()]})]}),t.jsx(P,{children:t.jsxs("form",{onSubmit:l,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"positive-speech",children:"Positive Words Spoken"}),t.jsx(B,{id:"positive-speech",type:"number",min:"0",value:n.positive_speech_count,onChange:c=>d("positive_speech_count",parseInt(c.target.value)||0),placeholder:"Count"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Encouraging, uplifting words"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"avoided-lashon-hara",children:"Times Avoided Lashon Hara"}),t.jsx(B,{id:"avoided-lashon-hara",type:"number",min:"0",value:n.avoided_lashon_hara,onChange:c=>d("avoided_lashon_hara",parseInt(c.target.value)||0),placeholder:"Count"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Stopped yourself from speaking negatively"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"gave-compliments",children:"Compliments Given"}),t.jsx(B,{id:"gave-compliments",type:"number",min:"0",value:n.gave_compliments,onChange:c=>d("gave_compliments",parseInt(c.target.value)||0),placeholder:"Count"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Genuine praise to others"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"torah-words",children:"Times Spoke Words of Torah"}),t.jsx(B,{id:"torah-words",type:"number",min:"0",value:n.spoke_words_of_torah,onChange:c=>d("spoke_words_of_torah",parseInt(c.target.value)||0),placeholder:"Count"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Shared Torah insights or lessons"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"helped-speech",children:"Times Helped Through Speech"}),t.jsx(B,{id:"helped-speech",type:"number",min:"0",value:n.helped_through_speech,onChange:c=>d("helped_through_speech",parseInt(c.target.value)||0),placeholder:"Count"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Comforted, advised, or assisted someone"})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx(L,{children:"Overall Speech Rating for Today"}),t.jsxs("div",{className:"px-3",children:[t.jsx($r,{value:[n.overall_rating],onValueChange:c=>d("overall_rating",c[0]),min:1,max:5,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[t.jsx("span",{children:"1"}),t.jsx("span",{children:"2"}),t.jsx("span",{children:"3"}),t.jsx("span",{children:"4"}),t.jsx("span",{children:"5"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(zt,{className:"h-4 w-4 text-yellow-500"}),t.jsxs("span",{className:"font-medium",children:[n.overall_rating,"/5"]}),t.jsxs("span",{className:"text-muted-foreground",children:["- ",h(n.overall_rating)]})]})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"daily-goal",children:"Tomorrow's Speech Goal"}),t.jsx(B,{id:"daily-goal",type:"text",value:n.daily_goal,onChange:c=>d("daily_goal",c.target.value),placeholder:"What do you want to focus on improving tomorrow?"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"challenges",children:"Challenges Faced Today"}),t.jsx(ae,{id:"challenges",value:n.challenges_faced,onChange:c=>d("challenges_faced",c.target.value),placeholder:"What situations made it difficult to guard your speech?",rows:3})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"improvements",children:"Improvements Noticed"}),t.jsx(ae,{id:"improvements",value:n.improvements_noticed,onChange:c=>d("improvements_noticed",c.target.value),placeholder:"What positive changes have you noticed in your speech patterns?",rows:3})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"reflection",children:"Daily Reflection"}),t.jsx(ae,{id:"reflection",value:n.reflection_notes,onChange:c=>d("reflection_notes",c.target.value),placeholder:"Any additional thoughts about your speech today...",rows:4})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(C,{type:"submit",disabled:o,className:"flex-1",children:[t.jsx(Ae,{className:"h-4 w-4 mr-2"}),o?"Saving...":r?"Update Reflection":"Save Daily Reflection"]}),t.jsx(C,{type:"button",onClick:()=>{const c=`ğŸ•¯ï¸ Today I worked on Shmiras HaLashon in memory of Chaya Sara Leah Bas Uri zt"l

ğŸ›¡ï¸ Speech Guarding Reflection for ${new Date(a).toLocaleDateString()}:
â€¢ Positive speech: ${n.positive_speech_count}/10
â€¢ Avoided negative speech: ${n.avoided_lashon_hara}/10  
â€¢ Gave compliments: ${n.gave_compliments}/10
â€¢ Overall rating: ${n.overall_rating}/5 stars

${n.daily_goal?`ğŸ¯ Today's goal: ${n.daily_goal}`:""}
${n.reflection_notes?`ğŸ’­ Reflection: ${n.reflection_notes}`:""}

Join me in guarding speech to elevate her holy neshomah: ${window.location.href}

×œ×¢×™×œ×•×™ × ×©××ª ×—×™×” ×©×¨×” ×œ××” ×‘×ª ××•×¨×™ ×–×´×œ`,m=`https://wa.me/?text=${encodeURIComponent(c)}`,u=`mailto:?subject=${encodeURIComponent("Shmiras HaLashon for Chaya Sara Leah")}&body=${encodeURIComponent(c)}`,f=document.createElement("div");f.style.cssText=`
                  position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
                  background: white; border-radius: 12px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
                  padding: 20px; z-index: 1000; min-width: 300px;
                `,f.innerHTML=`
                  <h3 style="margin: 0 0 15px 0; font-weight: bold; color: #1e40af;">Share Speech Guarding</h3>
                  <div style="display: flex; flex-direction: column; gap: 10px;">
                    <button onclick="window.open('${m}', '_blank'); document.body.removeChild(document.querySelector('[data-speech-menu]'))" 
                            style="background: #25d366; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                      ğŸ“± Share via WhatsApp
                    </button>
                    <button onclick="window.open('${u}', '_blank'); document.body.removeChild(document.querySelector('[data-speech-menu]'))" 
                            style="background: #ea4335; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                      ğŸ“§ Share via Email
                    </button>
                    <button onclick="navigator.clipboard.writeText('${c.replace(/'/g,"\\'")}'); alert('ğŸ“‹ Speech reflection shared!'); document.body.removeChild(document.querySelector('[data-speech-menu]'))" 
                            style="background: #6366f1; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                      ğŸ“‹ Copy to Clipboard
                    </button>
                    <button onclick="document.body.removeChild(document.querySelector('[data-speech-menu]'))" 
                            style="background: #6b7280; color: white; border: none; padding: 8px; border-radius: 8px; cursor: pointer;">
                      Cancel
                    </button>
                  </div>
                `,f.setAttribute("data-speech-menu","true"),document.body.appendChild(f)},variant:"outline",className:"bg-green-50 hover:bg-green-100 text-green-700 border-green-200",children:"ğŸ“¤ Share Progress"})]})]})})]})}var vt="Progress",bt=100,[Ko,Si]=rt(vt),[Xo,Qo]=Ko(vt),Hr=g.forwardRef((e,r)=>{const{__scopeProgress:a,value:n=null,max:s,getValueLabel:o=Jo,...i}=e;(s||s===0)&&!Et(s)&&console.error(Zo(`${s}`,"Progress"));const l=Et(s)?s:bt;n!==null&&!Ot(n,l)&&console.error(ei(`${n}`,"Progress"));const d=Ot(n,l)?n:null,h=We(d)?o(d,l):void 0;return t.jsx(Xo,{scope:a,value:d,max:l,children:t.jsx(de.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":We(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":Br(d,l),"data-value":d??void 0,"data-max":l,...i,ref:r})})});Hr.displayName=vt;var Yr="ProgressIndicator",zr=g.forwardRef((e,r)=>{const{__scopeProgress:a,...n}=e,s=Qo(Yr,a);return t.jsx(de.div,{"data-state":Br(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:r})});zr.displayName=Yr;function Jo(e,r){return`${Math.round(e/r*100)}%`}function Br(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function We(e){return typeof e=="number"}function Et(e){return We(e)&&!isNaN(e)&&e>0}function Ot(e,r){return We(e)&&!isNaN(e)&&e<=r&&e>=0}function Zo(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bt}\`.`}function ei(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bt} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ur=Hr,ti=zr;const qr=g.forwardRef(({className:e,value:r,...a},n)=>t.jsx(Ur,{ref:n,className:re("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...a,children:t.jsx(ti,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));qr.displayName=Ur.displayName;function ri({stats:e}){const r=Math.min(e.average_rating/5*100,100);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col items-center mb-6",children:[t.jsx("img",{src:"/chofetz_chaim.svg",alt:"Chofetz Chaim",className:"w-[60rem] h-[75rem] object-contain mb-4",style:{background:"transparent"}}),t.jsx("div",{className:"text-3xl font-bold text-blue-900 mb-2",children:"Chofetz Chaim"}),t.jsx("div",{className:"text-lg text-gray-700 text-center max-w-2xl",children:"Shalom, my dear friend! I am here to help you with questions about Shmiras HaLashon - the mitzvah of guarding your speech. Whether you need guidance about specific situations, encouragement in your spiritual journey, or want to learn the halachos of proper speech, I'm here to assist you with warmth and wisdom. What would you like to discuss today? ğŸ•¯ï¸"})]}),t.jsxs(k,{children:[t.jsx(F,{children:t.jsxs(R,{className:"flex items-center gap-2",children:[t.jsx(ya,{className:"h-5 w-5 text-green-600"}),"Shmiras HaLashon Progress Overview"]})}),t.jsxs(P,{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-primary mb-1",children:[e.average_rating.toFixed(1),"/5.0"]}),t.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Average Speech Rating"}),t.jsx(qr,{value:r,className:"w-full"}),t.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:[r.toFixed(0),"% towards perfect speech"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(Pe,{className:"h-6 w-6 text-blue-600"}),t.jsx("div",{className:"font-bold text-xl",children:e.total_days_tracked}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Tracked"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(wt,{className:"h-6 w-6 text-orange-600"}),t.jsx("div",{className:"font-bold text-xl",children:e.current_streak}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Day Streak"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(ce,{className:"h-6 w-6 text-green-600"}),t.jsx("div",{className:"font-bold text-xl",children:e.total_positive_speech}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Positive Words"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(ie,{className:"h-6 w-6 text-red-500"}),t.jsx("div",{className:"font-bold text-xl",children:e.total_compliments}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Compliments"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(k,{children:[t.jsx(F,{className:"pb-3",children:t.jsxs(R,{className:"text-lg flex items-center gap-2",children:[t.jsx(le,{className:"h-5 w-5 text-blue-600"}),"Torah Speech"]})}),t.jsxs(P,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:e.total_torah_words}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Times shared Torah wisdom"})]})]}),t.jsxs(k,{children:[t.jsx(F,{className:"pb-3",children:t.jsxs(R,{className:"text-lg flex items-center gap-2",children:[t.jsx(Fe,{className:"h-5 w-5 text-purple-600"}),"Helping Others"]})}),t.jsxs(P,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:e.total_helped_through_speech}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Times helped through speech"})]})]}),t.jsxs(k,{children:[t.jsx(F,{className:"pb-3",children:t.jsxs(R,{className:"text-lg flex items-center gap-2",children:[t.jsx(ce,{className:"h-5 w-5 text-green-600"}),"Avoided Negativity"]})}),t.jsxs(P,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:e.total_avoided_lashon_hara}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Times avoided lashon hara"})]})]})]}),e.current_streak>=7&&t.jsx(k,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20",children:t.jsxs(P,{className:"p-6 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[t.jsx(wt,{className:"h-6 w-6 text-orange-500"}),t.jsx("h3",{className:"text-lg font-semibold text-orange-700 dark:text-orange-300",children:"Amazing Streak! ğŸ”¥"})]}),t.jsxs("p",{className:"text-orange-600 dark:text-orange-400",children:["You've been tracking your speech for ",e.current_streak," consecutive days! Your dedication to improving your speech in memory of Chaya Sara Leah is truly inspiring."]})]})})]})}function ai({entries:e,onDelete:r}){const a=i=>new Date(i).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),n=i=>{confirm("Are you sure you want to delete this Shmiras HaLashon entry?")&&r(i)},s=i=>i>=4?"text-green-600":i>=3?"text-yellow-600":"text-red-600",o=i=>i>=4?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":i>=3?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";return e.length===0?t.jsx(k,{children:t.jsx(P,{className:"p-6 text-center text-muted-foreground",children:"No Shmiras HaLashon entries recorded yet. Start by adding your first daily reflection!"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Shmiras HaLashon History"}),t.jsxs("p",{className:"text-muted-foreground mt-2",children:[e.length," days of speech awareness in memory of Chaya Sara Leah"]})]}),t.jsx("div",{className:"grid gap-4",children:e.map(i=>t.jsxs(k,{className:o(i.overall_rating),children:[t.jsx(F,{className:"pb-3",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs(R,{className:"flex items-center gap-2 text-lg",children:[t.jsx(Pe,{className:"h-5 w-5"}),a(i.date_recorded)]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(zt,{className:`h-4 w-4 ${s(i.overall_rating)}`}),t.jsxs("span",{className:`font-medium ${s(i.overall_rating)}`,children:[i.overall_rating,"/5 Overall Rating"]})]})]}),t.jsx(C,{variant:"outline",size:"sm",onClick:()=>n(i.id),children:t.jsx(Yt,{className:"h-4 w-4"})})]})}),t.jsxs(P,{className:"pt-0 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ce,{className:"h-4 w-4 text-green-600"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:i.positive_speech_count}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Positive words"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ie,{className:"h-4 w-4 text-red-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:i.gave_compliments}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Compliments"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(le,{className:"h-4 w-4 text-blue-600"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:i.spoke_words_of_torah}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Torah words"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fe,{className:"h-4 w-4 text-purple-600"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:i.helped_through_speech}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Helped others"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:i.avoided_lashon_hara}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Avoided negativity"})]})]})]}),(i.daily_goal||i.challenges_faced||i.improvements_noticed||i.reflection_notes)&&t.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[i.daily_goal&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-1",children:"Daily Goal:"}),t.jsx("p",{className:"text-sm text-muted-foreground bg-white/50 dark:bg-black/20 p-2 rounded",children:i.daily_goal})]}),i.challenges_faced&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-1",children:"Challenges Faced:"}),t.jsx("p",{className:"text-sm text-muted-foreground bg-white/50 dark:bg-black/20 p-2 rounded",children:i.challenges_faced})]}),i.improvements_noticed&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-1",children:"Improvements Noticed:"}),t.jsx("p",{className:"text-sm text-muted-foreground bg-white/50 dark:bg-black/20 p-2 rounded",children:i.improvements_noticed})]}),i.reflection_notes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-1",children:"Daily Reflection:"}),t.jsx("p",{className:"text-sm text-muted-foreground bg-white/50 dark:bg-black/20 p-2 rounded",children:i.reflection_notes})]})]})]})]},i.id))})]})}function ni(){const[e,r]=g.useState([]),[a,n]=g.useState(null),[s,o]=g.useState(!0),[i,l]=g.useState(null),d=async(v,x)=>{let j=0;const N=3;for(;j<N;)try{const y=await fetch(v,{...x,headers:{"Content-Type":"application/json",...x==null?void 0:x.headers}});if(!y.ok){const b=await y.text();throw new Error(`Server error: ${y.status} - ${b}`)}return y}catch(y){if(j++,console.warn(`Network attempt ${j} failed for ${v}:`,y),j>=N)throw new Error("Network connection failed. Please check your internet connection and try again.");await new Promise(b=>setTimeout(b,1e3*j))}throw new Error("Maximum retry attempts reached")},h=async()=>{try{console.log("Fetching Shmiras HaLashon entries...");const x=await(await d("/api/shmiras-halashon")).json();console.log("Fetched entries:",x),r(x)}catch(v){console.error("Error fetching entries:",v),l(v instanceof Error?v.message:"Failed to fetch entries")}},c=async()=>{try{console.log("Fetching Shmiras HaLashon stats...");const x=await(await d("/api/shmiras-halashon/stats")).json();console.log("Fetched stats:",x),n(x)}catch(v){console.error("Error fetching stats:",v),l(v instanceof Error?v.message:"Failed to fetch stats")}},m=async v=>{try{console.log("Fetching entry for date:",v);const j=await(await d(`/api/shmiras-halashon/date/${v}`)).json();return console.log("Found entry for date:",j),j}catch{return console.log("No entry found for date:",v),null}},u=async v=>{try{console.log("Creating Shmiras HaLashon entry:",v);const x=await d("/api/shmiras-halashon",{method:"POST",body:JSON.stringify(v)});await h(),await c(),console.log("Entry created successfully")}catch(x){throw console.error("Error creating entry:",x),l(x instanceof Error?x.message:"Failed to create entry"),x}},f=async(v,x)=>{try{console.log("Updating Shmiras HaLashon entry:",v,x);const j=await d(`/api/shmiras-halashon/${v}`,{method:"PUT",body:JSON.stringify(x)});await h(),await c(),console.log("Entry updated successfully")}catch(j){throw console.error("Error updating entry:",j),l(j instanceof Error?j.message:"Failed to update entry"),j}},p=async v=>{try{console.log("Deleting Shmiras HaLashon entry:",v);const x=await d(`/api/shmiras-halashon/${v}`,{method:"DELETE"});await h(),await c(),console.log("Entry deleted successfully")}catch(x){throw console.error("Error deleting entry:",x),l(x instanceof Error?x.message:"Failed to delete entry"),x}};return g.useEffect(()=>{(async()=>{o(!0),l(null),await Promise.all([h(),c()]),o(!1)})()},[]),{entries:e,stats:a,loading:s,error:i,createEntry:u,updateEntry:f,deleteEntry:p,getEntryByDate:m,refetch:()=>Promise.all([h(),c()])}}function si(){const[e,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState(null);return{messages:e,isLoading:a,error:s,sendMessage:async c=>{if(!c.trim())return;const m={id:`user-${Date.now()}`,text:c.trim(),isUser:!0,timestamp:new Date};r(u=>[...u,m]),n(!0),o(null);try{const u=await fetch("/api/chofetz-chaim/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:c.trim()})});if(!u.ok){const v=await u.json();throw new Error(v.error||"Failed to get response")}const f=await u.json(),p={id:`bot-${Date.now()}`,text:f.response||f.fallback||"I apologize, but I cannot respond right now.",isUser:!1,timestamp:new Date};r(v=>[...v,p])}catch(u){console.error("Error sending message to Chofetz Chaim:",u),o("Failed to send message. Please try again.");const f={id:`fallback-${Date.now()}`,text:'My dear friend, I apologize for the difficulty. Remember that every moment you guard your speech is precious. May your words today bring only blessing and healing to the world, in memory of Chaya Sara Leah Bas Uri zt"l.',isUser:!1,timestamp:new Date};r(p=>[...p,f])}finally{n(!1)}},getDailyEncouragement:async()=>{try{const c=await fetch("/api/chofetz-chaim/daily-encouragement");if(!c.ok)throw new Error("Failed to get daily encouragement");const m=await c.json();return m.encouragement||m.fallback||"May your speech today be a source of blessing!"}catch(c){return console.error("Error getting daily encouragement:",c),'Good morning, my dear friend! Today is a beautiful opportunity to practice Shmiras HaLashon. May your words bring blessing and light to the world, in memory of Chaya Sara Leah Bas Uri zt"l.'}},clearMessages:()=>{r([]),o(null)},addInitialGreeting:()=>{const c={id:`greeting-${Date.now()}`,text:`Shalom, my dear friend! I am here to help you with questions about Shmiras HaLashon - the mitzvah of guarding your speech. Whether you need guidance about specific situations, encouragement in your spiritual journey, or want to learn the halachos of proper speech, I'm here to assist you with warmth and wisdom. 

What would you like to discuss today? ğŸ•¯ï¸`,isUser:!1,timestamp:new Date};r([c])}}}function oi({onComplete:e}){const{entries:r,stats:a,loading:n,error:s,createEntry:o,updateEntry:i,deleteEntry:l,getEntryByDate:d}=ni(),{messages:h,isLoading:c,sendMessage:m,addInitialGreeting:u,clearMessages:f}=si(),[p,v]=g.useState("today"),[x,j]=g.useState(new Date),[N,y]=g.useState(null),[b,M]=g.useState(!1),[D,A]=g.useState(!1),[I,ne]=g.useState(""),ee=()=>{A(!0),h.length===0&&u()},W=async()=>{!I.trim()||c||(await m(I),ne(""))},q=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),W())};g.useEffect(()=>{(async()=>{const U=x.toISOString().split("T")[0],he=await d(U);y(he)})()},[x,d]);const X=async w=>{try{N?await i(N.id,w):await o(w);const U=x.toISOString().split("T")[0],he=await d(U);y(he),e&&e()}catch(U){console.error("Error submitting form:",U)}},ve=w=>w.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),se=w=>w.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});if(n)return t.jsx(k,{children:t.jsx(P,{className:"p-6 text-center",children:"Loading Shmiras HaLashon data..."})});if(s)return t.jsx(k,{children:t.jsxs(P,{className:"p-6 text-center text-red-600",children:["Error: ",s]})});const Q=x.toISOString().split("T")[0],_=Q===new Date().toISOString().split("T")[0];return t.jsxs("div",{className:"space-y-6",children:[t.jsx(k,{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:t.jsx(P,{className:"p-6 text-center",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsxs("div",{className:"relative cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg rounded-lg p-2",onClick:ee,title:"Click to ask the Chofetz Chaim about Shmiras HaLashon!",children:[t.jsx("img",{src:"/chofetz_chaim.svg",alt:"The Chofetz Chaim - Click to ask questions!",className:"w-24 h-32 md:w-32 md:h-40 object-contain rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl",style:{filter:"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))",background:"transparent"}}),t.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-purple-400/20 to-blue-400/20 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),t.jsx("div",{className:"absolute -bottom-20 left-1/2 transform -translate-x-1/2 text-center",children:t.jsx("p",{className:"text-xs text-purple-600 font-medium bg-white/80 px-2 py-1 rounded-full shadow-sm",children:"Click me for guidance! ğŸ’¬"})})]})}),t.jsxs("div",{className:"flex-1 text-center md:text-left mt-4 md:mt-0",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Shmiras HaLashon"}),t.jsx("h3",{className:"text-lg font-semibold text-purple-700 mb-3",children:'In the Merit of the Chofetz Chaim zt"l'}),t.jsx("p",{className:"text-sm text-purple-600 leading-relaxed",children:"Guard your speech in memory of Chaya Sara Leah Bas Uri ×–×¦×´×œ. The Chofetz Chaim taught us that proper speech can elevate souls and bring healing to the world. Each day we guard our tongue is a merit for her neshomah."}),t.jsx("p",{className:"text-xs text-purple-500 mt-2 italic",children:"ğŸ’¡ Click on the Chofetz Chaim's image to ask questions about Shmiras HaLashon!"})]})]})})}),t.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[t.jsx(C,{variant:p==="today"?"default":"outline",onClick:()=>v("today"),size:"sm",children:"Daily Tracking"}),t.jsx(C,{variant:p==="progress"?"default":"outline",onClick:()=>v("progress"),size:"sm",children:"Progress Overview"}),t.jsx(C,{variant:p==="history"?"default":"outline",onClick:()=>v("history"),size:"sm",children:"History"})]}),t.jsxs(k,{className:"bg-gradient-to-r from-purple-50 to-violet-50 border-purple-200",children:[t.jsx(F,{children:t.jsxs(R,{className:"flex items-center gap-2 text-purple-800",children:[t.jsx(ce,{className:"h-5 w-5"}),"Shmiras HaLashon Learning Resources"]})}),t.jsx(P,{children:t.jsxs("div",{className:"grid gap-3",children:[t.jsx(C,{onClick:()=>window.open("https://cchf.global/daily-companion/#","_blank"),className:"bg-purple-600 hover:bg-purple-700 text-white justify-start h-auto p-4",children:t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-semibold",children:"ğŸ“š Daily Companion - CCHF Global"}),t.jsx("div",{className:"text-sm text-purple-100",children:"Complete guide to guarding your speech daily"})]})}),t.jsx("div",{className:"text-xs text-purple-600 text-center",children:"ğŸ›¡ï¸ Learn the laws and wisdom of proper speech to elevate your soul"})]})})]}),p==="today"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs(k,{children:[t.jsx(F,{children:t.jsxs(R,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ce,{className:"h-5 w-5 text-green-600"}),"Shmiras HaLashon Tracker"]}),t.jsxs(Po,{open:b,onOpenChange:M,children:[t.jsx(Mo,{asChild:!0,children:t.jsxs(C,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[t.jsx(Pe,{className:"h-4 w-4"}),_?"Today":ve(x)]})}),t.jsx(_r,{className:"w-auto p-0",align:"end",children:t.jsx(mr,{mode:"single",selected:x,onSelect:w=>{w&&(j(w),M(!1))},disabled:w=>w>new Date,initialFocus:!0})})]})]})}),t.jsx(P,{children:t.jsxs("div",{className:"space-y-4",children:[N&&t.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(ca,{className:"h-4 w-4"}),"Entry exists for ",se(x)]}),t.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["Rating: ",N.overall_rating,"/5"]})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"You can edit this entry to update your reflection."})]}),!N&&!_&&t.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Bt,{className:"h-4 w-4"}),t.jsxs("h3",{className:"font-semibold",children:["Add entry for ",se(x)]})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Reflect on your speech awareness for this past day."})]}),t.jsx(Go,{onSubmit:X,initialData:N,selectedDate:Q})]})})]}),t.jsx(k,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:t.jsxs(P,{className:"p-6",children:[t.jsx("h3",{className:"font-semibold mb-3",children:"The Power of Shmiras HaLashon"}),t.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-3",children:"Guarding our speech is one of the most powerful ways to honor the memory of our loved ones. Every moment we choose kind words over harsh ones, encouragement over criticism, or silence over gossip, we elevate not only ourselves but also the souls of those who have passed on."}),t.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"The Chofetz Chaim taught that proper speech brings healing to the world. By tracking your speech awareness daily, you create a living memorial that brings light and blessing to Chaya Sara Leah's neshomah."})]})})]}),p==="progress"&&a&&t.jsx(ri,{stats:a}),p==="history"&&t.jsx(ai,{entries:r,onDelete:l}),D&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(k,{className:"w-full max-w-2xl max-h-[80vh] bg-white shadow-2xl",children:[t.jsx(F,{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-t-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:"/chofetz_chaim.svg",alt:"Chofetz Chaim",className:"w-16 h-20 object-contain rounded-lg bg-white/10 p-1",style:{background:"transparent"}}),t.jsx("div",{children:t.jsx(R,{className:"text-xl text-blue-900 font-bold",children:"Ask the Chofetz Chaim"})})]}),t.jsx(C,{variant:"ghost",size:"sm",onClick:()=>A(!1),className:"text-white hover:bg-white/10",children:t.jsx(da,{className:"h-4 w-4"})})]})}),t.jsxs(P,{className:"p-0 flex flex-col h-[60vh]",children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-purple-50/30 to-blue-50/30",children:[t.jsx("div",{className:"flex justify-start",children:t.jsxs("div",{className:"max-w-[80%] p-3 rounded-lg bg-white border border-purple-200 shadow-sm mr-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("img",{src:"/chofetz_chaim.svg",alt:"Chofetz Chaim",className:"w-8 h-10 object-contain",style:{background:"transparent"}}),t.jsx("span",{className:"text-xs font-semibold text-purple-700",children:"Chofetz Chaim"})]}),t.jsx("p",{className:"text-sm leading-relaxed text-gray-800",children:"Shalom, my dear friend! I am here to help you with questions about Shmiras HaLashon - the mitzvah of guarding your speech. Whether you need guidance about specific situations, encouragement in your spiritual journey, or want to learn the halachos of proper speech, I'm here to assist you with warmth and wisdom. What would you like to discuss today? ğŸ•¯ï¸"})]})}),h.map(w=>t.jsx("div",{className:`flex ${w.isUser?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${w.isUser?"bg-blue-600 text-white ml-4":"bg-white border border-purple-200 shadow-sm mr-4"}`,children:[!w.isUser&&t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("img",{src:"/chofetz_chaim.svg",alt:"Chofetz Chaim",className:"w-6 h-8 object-contain",style:{background:"transparent"}}),t.jsx("span",{className:"text-xs font-semibold text-purple-700",children:"Chofetz Chaim"})]}),t.jsx("p",{className:`text-sm leading-relaxed ${w.isUser?"text-white":"text-gray-800"}`,children:w.text}),t.jsx("p",{className:`text-xs mt-2 ${w.isUser?"text-blue-200":"text-gray-500"}`,children:w.timestamp.toLocaleTimeString()})]})},w.id)),c&&t.jsx("div",{className:"flex justify-start",children:t.jsxs("div",{className:"bg-white border border-purple-200 shadow-sm mr-4 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("img",{src:"/chofetz_chaim.svg",alt:"Chofetz Chaim",className:"w-6 h-8 object-contain",style:{background:"transparent"}}),t.jsx("span",{className:"text-xs font-semibold text-purple-700",children:"The Chofetz Chaim"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce delay-100"}),t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce delay-200"})]})]})})]}),t.jsxs("div",{className:"border-t border-purple-200 p-4 bg-white",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ae,{value:I,onChange:w=>ne(w.target.value),onKeyPress:q,placeholder:"Ask the Chofetz Chaim about Shmiras HaLashon... (e.g., 'How can I avoid lashon hara at work?')",className:"flex-1 min-h-[60px] border-purple-300 focus:border-purple-500 focus:ring-purple-500 resize-none",disabled:c}),t.jsx(C,{onClick:W,disabled:!I.trim()||c,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-6",children:t.jsx(ua,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex justify-between items-center mt-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Press Enter to send, Shift+Enter for new line"}),t.jsx(C,{variant:"outline",size:"sm",onClick:f,className:"text-xs",children:"Clear Chat"})]})]})]})]})})]})}function ii(){const[e,r]=g.useState([]),[a,n]=g.useState(!0),[s,o]=g.useState(null),i=async(c,m)=>{let u=0;const f=3;for(;u<f;)try{const p=await fetch(c,{...m,headers:{"Content-Type":"application/json",...m==null?void 0:m.headers}});if(!p.ok){const v=await p.text();throw new Error(`Server error: ${p.status} - ${v}`)}return p}catch(p){if(u++,console.warn(`Network attempt ${u} failed for ${c}:`,p),u>=f)throw new Error("Network connection failed. Please check your internet connection and try again.");await new Promise(v=>setTimeout(v,1e3*u))}throw new Error("Maximum retry attempts reached")},l=async()=>{try{console.log("Fetching learning activities...");const m=await(await i("/api/learning")).json();console.log("Fetched activities:",m),r(m)}catch(c){console.error("Error fetching activities:",c),o(c instanceof Error?c.message:"Failed to fetch activities")}},d=async c=>{try{console.log("Creating learning activity:",c);const m=await i("/api/learning",{method:"POST",body:JSON.stringify(c)});await l(),console.log("Activity saved successfully")}catch(m){throw console.error("Error creating activity:",m),o(m instanceof Error?m.message:"Failed to save activity"),m}},h=async c=>{try{console.log("Deleting learning activity:",c);const m=await i(`/api/learning/${c}`,{method:"DELETE"});await l(),console.log("Activity deleted successfully")}catch(m){throw console.error("Error deleting activity:",m),o(m instanceof Error?m.message:"Failed to delete activity"),m}};return g.useEffect(()=>{(async()=>{n(!0),o(null),await l(),n(!1)})()},[]),{activities:e,loading:a,error:s,createActivity:d,deleteActivity:h,refetch:l}}function ki(){const{activities:e,loading:r,error:a,createActivity:n,deleteActivity:s}=ii(),{chapters:o,progress:i,deleteChapter:l}=Vt(),[d,h]=g.useState("tehillim"),[c,m]=g.useState("individual");return r?t.jsx("div",{className:"space-y-6",children:t.jsx(k,{children:t.jsx(P,{className:"p-6 text-center",children:"Loading learning activities..."})})}):a?t.jsx("div",{className:"space-y-6",children:t.jsx(k,{children:t.jsxs(P,{className:"p-6 text-center text-red-600",children:["Error: ",a]})})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center py-8 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-indigo-500 to-blue-600 bg-clip-text text-transparent mb-2",children:"×œ×™×•×¢×œ×™ × ×©××ª ×—×™×” ×©×¨×” ×œ××” ×‘×ª ××•×¨×™ ×–×´×œ"}),t.jsx("h2",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300 mb-3",children:"Torah Learning, Tehillim & Shmiras HaLashon"}),t.jsx("p",{className:"text-lg text-blue-600 dark:text-blue-400 italic",children:"Dedicate your learning, prayers, and mindful speech to elevate her holy soul"})]}),t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",children:[t.jsxs(C,{variant:d==="tehillim"?"default":"outline",onClick:()=>h("tehillim"),className:"flex items-center gap-2",children:[t.jsx(ie,{className:"h-4 w-4"}),"Say Tehillim"]}),t.jsxs(C,{variant:d==="torah"?"default":"outline",onClick:()=>h("torah"),className:"flex items-center gap-2",children:[t.jsx(le,{className:"h-4 w-4"}),"Learn Torah"]}),t.jsxs(C,{variant:d==="shmiras-halashon"?"default":"outline",onClick:()=>h("shmiras-halashon"),className:"flex items-center gap-2",children:[t.jsx(ce,{className:"h-4 w-4"}),"Guard Speech"]}),t.jsxs(C,{variant:d==="shared-learning"?"default":"outline",onClick:()=>h("shared-learning"),className:"flex items-center gap-2",children:[t.jsx(ie,{className:"h-4 w-4"}),"Shared Learning"]}),t.jsxs(C,{variant:d==="history"?"default":"outline",onClick:()=>h("history"),className:"flex items-center gap-2",children:[t.jsx(Bt,{className:"h-4 w-4"}),"History"]})]}),d==="tehillim"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-wrap gap-2 justify-center bg-gradient-to-r from-blue-50 to-amber-50 p-4 rounded-lg",children:[t.jsx(C,{variant:c==="individual"?"default":"outline",onClick:()=>m("individual"),className:"bg-gradient-to-r from-blue-600 to-amber-600 hover:from-blue-700 hover:to-amber-700 text-white",size:"sm",children:"ğŸ“– Individual Chapters"}),t.jsx(C,{variant:c==="full-book"?"default":"outline",onClick:()=>m("full-book"),className:"bg-gradient-to-r from-blue-600 to-amber-600 hover:from-blue-700 hover:to-amber-700 text-white",size:"sm",children:"ğŸ“š Full Book of Psalms"}),t.jsx(C,{variant:c==="progress"?"default":"outline",onClick:()=>m("progress"),className:"bg-gradient-to-r from-blue-600 to-amber-600 hover:from-blue-700 hover:to-amber-700 text-white",size:"sm",children:"ğŸ“Š Progress Tracker"}),t.jsx(C,{variant:c==="history"?"default":"outline",onClick:()=>m("history"),className:"bg-gradient-to-r from-blue-600 to-amber-600 hover:from-blue-700 hover:to-amber-700 text-white",size:"sm",children:"ğŸ“‹ History"})]}),c==="individual"&&t.jsx(Ca,{onComplete:n}),c==="full-book"&&t.jsxs(k,{className:"bg-gradient-to-r from-blue-50 to-amber-50 border-blue-200",children:[t.jsxs(F,{children:[t.jsx(R,{className:"bg-gradient-to-r from-blue-600 to-amber-600 bg-clip-text text-transparent text-center",children:"ğŸ“š Complete Book of Psalms"}),t.jsx("p",{className:"text-center bg-gradient-to-r from-blue-700 to-amber-700 bg-clip-text text-transparent",children:"Read the entire Sefer Tehillim in memory of Chaya Sara Leah Bas Uri ×–×¦×´×œ"})]}),t.jsx(P,{children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("p",{className:"bg-gradient-to-r from-blue-600 to-amber-600 bg-clip-text text-transparent font-medium",children:"Choose how you'd like to access the complete Book of Psalms"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(C,{onClick:()=>window.open("https://www.sefaria.org/texts/Tanakh/Ketuvim/Psalms","_blank"),className:"bg-gradient-to-r from-blue-600 to-amber-600 hover:from-blue-700 hover:to-amber-700 text-white",children:"ğŸ“– Sefaria - Hebrew & English"}),t.jsx(C,{onClick:()=>window.open("https://www.chabad.org/library/bible_cdo/aid/16222/showrashi/true","_blank"),className:"bg-gradient-to-r from-blue-600 to-amber-600 hover:from-blue-700 hover:to-amber-700 text-white",children:"ğŸ“œ Chabad.org - With Commentary"})]}),t.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:t.jsx("p",{className:"text-sm bg-gradient-to-r from-blue-700 to-amber-700 bg-clip-text text-transparent font-medium",children:"ğŸ’¡ Tip: Reading the complete Tehillim brings tremendous merit to the neshomah. Each word carries holy power to elevate her soul in Gan Eden."})})]})})]}),c==="progress"&&t.jsxs(k,{className:"bg-gradient-to-r from-blue-50 to-amber-50 border-blue-200",children:[t.jsx(F,{children:t.jsx(R,{className:"bg-gradient-to-r from-blue-600 to-amber-600 bg-clip-text text-transparent",children:"ğŸ“Š Tehillim Progress"})}),t.jsx(P,{children:i?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-amber-600 bg-clip-text text-transparent",children:[i.completed_count||0,"/",i.total_chapters||150," Chapters Completed"]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-4",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-amber-600 h-4 rounded-full transition-all duration-300",style:{width:`${i.progress_percentage||0}%`}})}),t.jsxs("p",{className:"mt-2 text-sm bg-gradient-to-r from-blue-700 to-amber-700 bg-clip-text text-transparent",children:[i.progress_percentage||0,"% Complete"]})]}),i.remaining_chapters&&i.remaining_chapters.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"font-medium mb-2 bg-gradient-to-r from-blue-600 to-amber-600 bg-clip-text text-transparent",children:"Remaining Chapters:"}),t.jsxs("div",{className:"text-sm text-gray-600 max-h-32 overflow-y-auto",children:[i.remaining_chapters.slice(0,30).join(", "),i.remaining_chapters.length>30&&"..."]})]})]}):t.jsx("p",{className:"text-center text-gray-600",children:"Loading progress..."})})]}),c==="history"&&t.jsxs(k,{className:"bg-gradient-to-r from-blue-50 to-amber-50 border-blue-200",children:[t.jsx(F,{children:t.jsx(R,{className:"bg-gradient-to-r from-blue-600 to-amber-600 bg-clip-text text-transparent",children:"ğŸ“‹ Completed Chapters History"})}),t.jsx(P,{children:o&&o.length>0?t.jsx("div",{className:"space-y-2",children:o.map(u=>t.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[t.jsxs("div",{children:[t.jsxs("span",{className:"font-medium",children:["Chapter ",u.chapter_number]}),u.chapter_name&&t.jsxs("span",{className:"text-gray-600",children:[" - ",u.chapter_name]}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Completed: ",new Date(u.date_completed).toLocaleDateString()]})]}),t.jsx(C,{onClick:()=>l(u.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:"Delete"})]},u.id))}):t.jsx("p",{className:"text-center text-gray-600",children:"No chapters completed yet"})})]})]}),d==="torah"&&t.jsx(_a,{onComplete:n}),d==="shmiras-halashon"&&t.jsx(oi,{}),d==="shared-learning"&&t.jsx(ka,{onComplete:()=>{console.log("Shared learning entry completed")}}),d==="history"&&t.jsx(Sa,{activities:e,onDelete:s})]})]})}export{ki as LearningPage};
