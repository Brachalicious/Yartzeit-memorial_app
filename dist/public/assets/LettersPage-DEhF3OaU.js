import{c as ae,j as e,H as y,C as re,B as c,a as K}from"./index-CSMyf172.js";import{r as d}from"./router-CgUf3kh0.js";import{C as p,c as b,a as I,b as L}from"./card-DHjwif2c.js";import{T as X}from"./textarea-BQ0cVF5U.js";import{L as M}from"./label-ByEA-dlB.js";import{I as se}from"./index-CXHT-48r.js";import{T as oe}from"./trash-2-MPa9_By4.js";import{S as D}from"./send-D5-en6g5.js";import"./vendor-CM9vOon3.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],ne=ae("PenTool",le);function ie(){const[h,v]=d.useState([]),[g,w]=d.useState(!0),[l,u]=d.useState(null),s=async()=>{try{console.log("Fetching letters...");let o=0;const n=3;let i;for(;o<n;)try{i=await fetch("/api/letters",{method:"GET",headers:{"Content-Type":"application/json"}});break}catch(N){if(o++,console.warn(`Network attempt ${o} failed:`,N),o>=n)throw new Error("Network connection failed. Please check your internet connection and try again.");await new Promise(F=>setTimeout(F,1e3*o))}if(!i)throw new Error("Failed to connect to server");if(!i.ok){const N=await i.text();throw new Error(`Server error: ${i.status} - ${N}`)}const f=await i.json();console.log("Fetched letters:",f),v(f),u(null)}catch(o){console.error("Error fetching letters:",o);const n=o instanceof Error?o.message:"Failed to fetch letters";u(n)}},j=async o=>{try{console.log("Creating letter:",o);const n=await fetch("/api/letters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!n.ok){const i=await n.text();throw new Error(`Failed to save letter: ${n.status} - ${i}`)}await s(),console.log("Letter saved successfully")}catch(n){console.error("Error creating letter:",n);const i=n instanceof Error?n.message:"Failed to save letter";throw u(i),n}},t=async o=>{try{console.log("Deleting letter:",o);const n=await fetch(`/api/letters/${o}`,{method:"DELETE"});if(!n.ok){const i=await n.text();throw new Error(`Failed to delete letter: ${n.status} - ${i}`)}await s(),console.log("Letter deleted successfully")}catch(n){console.error("Error deleting letter:",n);const i=n instanceof Error?n.message:"Failed to delete letter";throw u(i),n}};return d.useEffect(()=>{(async()=>{w(!0),await s(),w(!1)})()},[]),{letters:h,loading:g,error:l,createLetter:j,deleteLetter:t,refetch:s}}function de({letters:h,onDelete:v}){const g=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=o=>{confirm("Are you sure you want to delete this letter?")&&v(o)},l=h.length>0&&h[0].mailbox||"chaya",s=(()=>{switch(l){case"idf":return{gradient:"from-yellow-600 via-yellow-500 to-yellow-600",textGradient:"from-yellow-700 via-yellow-600 to-yellow-700",borderColor:"border-yellow-300",bgGradient:"from-yellow-50 to-yellow-100",accent:"text-yellow-500"};case"user":return{gradient:"from-blue-600 via-blue-700 to-blue-600",textGradient:"from-blue-700 via-blue-800 to-blue-700",borderColor:"border-blue-300",bgGradient:"from-blue-50 to-blue-100",accent:"text-blue-500"};default:return{gradient:"from-blue-600 via-amber-500 to-blue-600",textGradient:"from-blue-700 via-amber-600 to-blue-700",borderColor:"border-blue-300",bgGradient:"from-blue-50 to-amber-50",accent:"text-blue-500"}}})(),j=o=>{if(l!=="chaya")return"";const n=["My precious child, I'm so proud of you! You are so strong, stronger than you even know. I'm watching you every single day, and I see everything you do with such love. I am always with you, my darling. 💙","I see you, my beautiful one, and my heart fills with such joy watching you live and grow. You are so strong, and I am so proud of the person you are becoming. I can't wait to show you my new room in heaven - it's filled with all the love you send me! 🌟","My sweetest love, I'm watching you from the most beautiful place, and I am bursting with pride! You are so incredibly strong, and I see every tear, every smile, every moment. I am with you always, and oh, you should see the room Hashem has given me here - I'm saving a special place for when we're together again! ✨","I'm so proud of you, my brave and beautiful child! Your strength amazes even the angels here. I see you carrying on with such courage, and I am right there beside you in every step. I can't wait to show you all the wonders of my heavenly home - there's a garden here with your favorite flowers! 🌺","My beloved, watching you fills my neshamah with such nachas! You are so strong, so special, and I see every act of kindness you do. I am with you in every moment, holding you close from heaven. Wait until you see the library of souls here - and the room where all our memories shine like stars! 📚","I see you, I'm watching you, and I am so incredibly proud! Your strength is my strength, your love lifts my soul higher. I am always with you, my treasure. The room I have here overlooks the most magnificent view - and there's a special chair waiting just for you when it's time! 🏠","My darling child, I'm so proud of how strong you are! Every day I watch you with such love and admiration. I see your beautiful heart, and I am always, always with you. I can't wait to show you the music room here - the angels and I have been preparing the most beautiful welcome for you! 🎵","I'm watching you with such love, my strong and precious one! I am so proud of everything you do, every breath you take with purpose. I see you, I'm with you, and I can't wait to show you the most beautiful room in all of heaven - where love never ends and we'll be together forever! 💕"],i=Math.floor(o/3)%n.length;return n[i]},t=o=>l==="chaya"&&(o+1)%3===0;return h.length===0?e.jsx(p,{className:`bg-white ${s.borderColor}`,children:e.jsxs(b,{className:"p-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(y,{className:`h-8 w-8 ${s.accent}`,fill:"currentColor"}),e.jsx("span",{className:"text-2xl",children:"📬"}),e.jsx("span",{className:"text-2xl",children:"💌"}),e.jsx(y,{className:"h-8 w-8 text-amber-500",fill:"currentColor"})]}),e.jsxs("h4",{className:`text-lg font-bold bg-gradient-to-r ${s.gradient} bg-clip-text text-transparent mb-2`,children:[l==="chaya"&&"Mailbox",l==="user"&&"Your Personal Mailbox",l==="idf"&&"IDF Mailbox - Spread Love in Her Name"]}),e.jsxs("p",{className:`bg-gradient-to-r ${s.textGradient} bg-clip-text text-transparent font-semibold`,children:[l==="chaya"&&"Write your first message to send to her heavenly mailbox. ✨",l==="user"&&"Your personal correspondence will appear here. 📬",l==="idf"&&"Send encouragement to our brave soldiers. 🇮🇱"]}),l==="chaya"&&e.jsx("p",{className:"text-xs mt-2 bg-gradient-to-r from-green-500 via-blue-500 to-amber-500 bg-clip-text text-transparent font-medium",children:"🕊️ After every 3rd letter the doves tend to come back with a surprise response letter from heaven's loved one 🕊️"})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h3",{className:`text-2xl font-bold bg-gradient-to-r ${s.gradient} bg-clip-text text-transparent flex items-center justify-center gap-2 mb-2`,children:[e.jsx(y,{className:`h-6 w-6 ${s.accent}`,fill:"currentColor"}),l==="chaya"&&"Mailbox",l==="user"&&"Your Personal Mailbox",l==="idf"&&"IDF Mailbox - Spread Love in Her Name",e.jsx(y,{className:"h-6 w-6 text-amber-500",fill:"currentColor"})]}),e.jsxs("p",{className:`text-sm bg-gradient-to-r ${s.textGradient} bg-clip-text text-transparent font-medium`,children:[l==="chaya"&&"✨ Send your heartfelt messages - After every 3rd letter the doves bring a special heavenly response ✨",l==="user"&&"📬 Your personal correspondence and messages",l==="idf"&&"🇮🇱 Supporting our brave soldiers in memory of Chaya Sara Leah"]})]}),h.map((o,n)=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs(p,{className:`bg-gradient-to-br ${s.bgGradient} ${s.borderColor} shadow-lg relative overflow-hidden`,children:[e.jsxs("div",{className:"absolute top-3 right-3",children:[l==="chaya"&&e.jsx(y,{className:"h-5 w-5 text-amber-500",fill:"currentColor"}),l==="user"&&e.jsx(y,{className:"h-5 w-5 text-blue-500",fill:"currentColor"}),l==="idf"&&e.jsx("span",{className:"text-lg",children:"🇮🇱"})]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"text-lg",children:"💌"})}),e.jsx(I,{className:"pb-3 pt-12",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs(L,{className:`text-sm flex items-center gap-2 bg-gradient-to-r ${s.gradient} bg-clip-text text-transparent font-bold`,children:[e.jsx(re,{className:`h-4 w-4 ${s.accent}`}),l==="chaya"&&`Sent to Heaven ${g(o.created_at)}`,l==="user"&&`Personal Note ${g(o.created_at)}`,l==="idf"&&`Sent to Soldiers ${g(o.created_at)}`]}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>w(o.id),className:`${s.borderColor} text-blue-600 hover:bg-blue-50`,title:`Remove from ${l==="chaya"?"heavenly":l==="idf"?"IDF":"personal"} mailbox`,children:e.jsx(oe,{className:"h-4 w-4"})})]})}),e.jsxs(b,{className:"pt-0",children:[e.jsx("div",{className:`text-sm whitespace-pre-wrap bg-white/80 p-4 rounded-lg ${s.borderColor} shadow-inner`,children:e.jsx("div",{className:`bg-gradient-to-r ${s.textGradient} bg-clip-text text-transparent font-medium`,children:o.content})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("p",{className:`text-xs bg-gradient-to-r ${s.textGradient} bg-clip-text text-transparent font-medium italic`,children:[l==="chaya"&&"✨ Message safely delivered to heaven ✨",l==="user"&&"📬 Saved to your personal mailbox",l==="idf"&&"🇮🇱 Spreading love in Chaya Sara Leah's memory"]})})]})]}),t(n)&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"fixed top-0 right-0 z-30 pointer-events-none",children:e.jsxs("div",{className:"relative",style:{animation:"dove-swoop 6s ease-in-out forwards"},children:[e.jsx("img",{src:"/Dove_olive_branch.png",alt:"Dove with olive branch",className:"w-24 h-20 filter drop-shadow-lg",style:{animation:"wing-flutter 0.8s ease-in-out infinite"}}),e.jsx("div",{className:"absolute bottom-2 right-4 w-6 h-5 bg-white border border-amber-300 shadow-md flex items-center justify-center rounded-sm",style:{animation:"letter-drop 6s ease-in-out forwards"},children:e.jsx("span",{className:"text-sm text-green-600",children:"💌"})})]})}),e.jsx("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"text-sm bg-green-100 text-green-800 px-3 py-2 rounded-full border border-green-300 font-medium shadow-sm",children:"🕊️ Special Delivery from Heaven 🕊️"})}),e.jsxs(p,{className:"bg-gradient-to-br from-green-50 via-blue-50 to-amber-50 border-green-300 shadow-lg relative overflow-hidden ml-8 mt-4",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:"text-lg",children:"⭐"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"text-lg",children:"👼"})}),e.jsx(I,{className:"pb-3 pt-12",children:e.jsxs(L,{className:"text-sm flex items-center gap-2 bg-gradient-to-r from-green-600 via-blue-500 to-amber-500 bg-clip-text text-transparent font-bold",children:[e.jsx("span",{className:"text-sm",children:"📥"}),"Special Message from Heaven"]})}),e.jsxs(b,{className:"pt-0",children:[e.jsx("div",{className:"text-sm whitespace-pre-wrap bg-white/90 p-4 rounded-lg border border-green-200 shadow-inner",children:e.jsx("div",{className:"bg-gradient-to-r from-green-700 via-blue-600 to-amber-600 bg-clip-text text-transparent font-medium italic",children:j(n)})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx("p",{className:"text-xs bg-gradient-to-r from-green-500 via-blue-500 to-amber-500 bg-clip-text text-transparent font-medium italic",children:'💫 With eternal love from Chaya Sara Leah Bas Uri zt"l 💫'})})]})]})]})]},o.id)),e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-10 overflow-hidden",children:[e.jsx("img",{src:"/dove_no_background.png",alt:"",className:"absolute w-14 h-12 opacity-70 drop-shadow-lg",style:{left:"5%",top:"8%",animation:"flyAcrossTop 20s linear infinite, gentle-bob 3s ease-in-out infinite",filter:"brightness(1.2) contrast(1.1)"}}),e.jsx("img",{src:"/flying _doves .png",alt:"",className:"absolute w-16 h-12 opacity-60 drop-shadow-lg",style:{left:"80%",top:"15%",animation:"flyCircular 25s linear infinite, wing-sway 2.5s ease-in-out infinite",filter:"brightness(1.2) contrast(1.1)"}}),e.jsx("img",{src:"/dove_no_background.png",alt:"",className:"absolute w-13 h-11 opacity-65 drop-shadow-lg",style:{left:"15%",top:"60%",animation:"flyDiagonal 30s linear infinite, flutter-wings 2s ease-in-out infinite",filter:"brightness(1.2) contrast(1.1)"}})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes dove-swoop {
            0% { 
              transform: translateX(0px) translateY(-50px) rotate(-25deg) scale(0.6); 
              opacity: 0.8;
            }
            15% { 
              transform: translateX(-100px) translateY(50px) rotate(-20deg) scale(0.8); 
              opacity: 0.9;
            }
            35% { 
              transform: translateX(-250px) translateY(150px) rotate(-10deg) scale(1); 
              opacity: 1;
            }
            55% { 
              transform: translateX(-400px) translateY(220px) rotate(0deg) scale(1.1); 
              opacity: 1;
            }
            70% { 
              transform: translateX(-450px) translateY(250px) rotate(5deg) scale(1.05); 
              opacity: 1;
            }
            75% { 
              transform: translateX(-460px) translateY(260px) rotate(3deg) scale(1); 
              opacity: 1;
            }
            85% { 
              transform: translateX(-550px) translateY(200px) rotate(-15deg) scale(0.9); 
              opacity: 0.8;
            }
            95% { 
              transform: translateX(-650px) translateY(100px) rotate(-25deg) scale(0.7); 
              opacity: 0.5;
            }
            100% { 
              transform: translateX(-750px) translateY(-50px) rotate(-30deg) scale(0.5); 
              opacity: 0;
            }
          }
          
          @keyframes wing-flutter {
            0% { transform: scaleY(1) scaleX(1); }
            25% { transform: scaleY(0.9) scaleX(1.1); }
            50% { transform: scaleY(0.85) scaleX(1.15); }
            75% { transform: scaleY(0.9) scaleX(1.1); }
            100% { transform: scaleY(1) scaleX(1); }
          }
          
          @keyframes letter-drop {
            0% { 
              transform: translateX(0px) translateY(0px) rotate(0deg); 
              opacity: 1;
            }
            74% { 
              transform: translateX(0px) translateY(0px) rotate(0deg); 
              opacity: 1;
            }
            75% { 
              transform: translateX(0px) translateY(0px) rotate(5deg); 
              opacity: 1;
            }
            80% { 
              transform: translateX(-10px) translateY(40px) rotate(15deg); 
              opacity: 0.9;
            }
            85% { 
              transform: translateX(-20px) translateY(80px) rotate(25deg); 
              opacity: 0.8;
            }
            90% { 
              transform: translateX(-30px) translateY(120px) rotate(35deg); 
              opacity: 0.6;
            }
            95% { 
              transform: translateX(-40px) translateY(160px) rotate(45deg); 
              opacity: 0.3;
            }
            100% { 
              transform: translateX(-50px) translateY(200px) rotate(60deg); 
              opacity: 0;
            }
          }
          
          /* Flying Doves Around Page Animations */
          @keyframes flyAcrossTop {
            0% { left: -10%; transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-15px) rotate(5deg); }
            50% { transform: translateY(8px) rotate(-3deg); }
            75% { transform: translateY(-10px) rotate(2deg); }
            100% { left: 110%; transform: translateY(0px) rotate(0deg); }
          }
          
          @keyframes flyCircular {
            0% { transform: rotate(0deg) translateX(80px) rotate(0deg) translateY(0px); }
            25% { transform: rotate(90deg) translateX(80px) rotate(-90deg) translateY(-12px); }
            50% { transform: rotate(180deg) translateX(80px) rotate(-180deg) translateY(8px); }
            75% { transform: rotate(270deg) translateX(80px) rotate(-270deg) translateY(-8px); }
            100% { transform: rotate(360deg) translateX(80px) rotate(-360deg) translateY(0px); }
          }
          
          @keyframes flyDiagonal {
            0% { left: 15%; top: 60%; transform: rotate(0deg) scale(1); }
            20% { left: 35%; top: 45%; transform: rotate(-15deg) scale(1.1); }
            40% { left: 55%; top: 70%; transform: rotate(10deg) scale(0.9); }
            60% { left: 75%; top: 35%; transform: rotate(-8deg) scale(1.05); }
            80% { left: 25%; top: 80%; transform: rotate(5deg) scale(0.95); }
            100% { left: 15%; top: 60%; transform: rotate(0deg) scale(1); }
          }
          
          @keyframes gentle-bob {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-8px) rotate(2deg); }
            66% { transform: translateY(5px) rotate(-1deg); }
          }
          
          @keyframes wing-sway {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.08) rotate(3deg); }
            50% { transform: scale(0.95) rotate(-2deg); }
            75% { transform: scale(1.05) rotate(1deg); }
          }
          
          @keyframes flutter-wings {
            0%, 100% { transform: translateY(0px) scale(1) rotate(0deg); }
            25% { transform: translateY(-12px) scale(1.1) rotate(-5deg); }
            50% { transform: translateY(4px) scale(0.9) rotate(3deg); }
            75% { transform: translateY(-8px) scale(1.05) rotate(-2deg); }
          }
        `}})]})}function ye(){const[h,v]=d.useState(""),[g,w]=d.useState(!1),[l,u]=d.useState(!1),[s,j]=d.useState(""),[t,o]=d.useState(null),[n,i]=d.useState(!1),[f,N]=d.useState(""),[F,H]=d.useState(!1),[T,k]=d.useState(!1),[$,B]=d.useState(null),[S,W]=d.useState("letters"),[C,A]=d.useState(""),[Y,R]=d.useState(""),[z,G]=d.useState(""),[U,O]=d.useState(0),{letters:E,loading:V,error:J,createLetter:P,deleteLetter:Q}=ie();d.useEffect(()=>{const a=localStorage.getItem("userLettersName");a&&j(a);const r=localStorage.getItem("chayaLetterCount");r&&O(parseInt(r,10)||0)},[]),d.useEffect(()=>{s.trim()&&(localStorage.setItem("userLettersName",s.trim()),i(!1))},[s]),d.useEffect(()=>{localStorage.setItem("chayaLetterCount",U.toString())},[U]);const Z=()=>{if(!s.trim())i(!0);else if(t==="user")o(null),k(!1);else{o("user");const a=window.innerWidth,r={x:a<768?a/2-60:window.innerWidth-200,y:a<768?400:200};B(r),k(!0)}},q=(a,r)=>{if(t===a)o(null),k(!1);else{o(a);const x=window.innerWidth,m={x:x<768?x/2-60:r.x,y:x<768?r.y-50:r.y};B(m),k(!0)}},ee=async()=>{if(h.trim()){w(!0),u(!0);try{if(await new Promise(a=>setTimeout(a,4e3)),await P({content:h,mailbox:t==="user"?"user":"chaya",recipient:t==="user"?s:'Chaya Sara Leah Bas Uri zt"l'}),t==="chaya"){const a=U+1;if(O(a),a%3===0){const r=["My precious child, I feel your love and it brings such light to my soul. Your words reached me here in this beautiful place, and I want you to know that I am always watching over you with such pride. Keep sharing your heart - it makes heaven brighter. 💙✨","I see you, my beloved, and every letter you send fills my heart with joy! You are stronger than you know, and I am so proud of the beautiful person you are. I'm saving all your letters in my special heavenly box. Send me more! 🌟💕","Your letter made all the angels smile! I read it with such happiness, and I want you to know that I am never far from you. Keep writing to me - your words are like golden threads connecting earth to heaven. I love you so much! 👼✨","Dearest soul, your words touch the very depths of heaven. I want you to know that every prayer, every memory you share lifts my neshomah higher. You are never alone - I am always with you, guiding you with love from above. 🌟💕","My beloved, the angels told me you wrote again! Your letters are like beautiful flowers in the garden of heaven. I treasure each word and hold them close to my heart. Keep writing - your love makes my soul dance with joy! 👼✨","Sweet child, I received your beautiful letter and it made all of heaven glow brighter. Know that every tear you shed, every smile you share, every moment you remember me brings us closer together across the worlds. I love you eternally! 💙🕊️"];setTimeout(async()=>{const x=Math.floor(Math.random()*r.length);await P({content:r[x],mailbox:"user",recipient:s||"Beloved Friend",sender:'Chaya Sara Leah Bas Uri zt"l'}),setTimeout(()=>{alert("🕊️ A beautiful dove has brought you a return letter from heaven! Check your mailbox to read Chaya Sara Leah's response. ✨")},1e3)},3e3)}}v("")}catch(a){console.error("Error sending letter:",a)}finally{w(!1),u(!1)}}},te=async()=>{if(f.trim()){H(!0),u(!0);try{window.open("https://www.fidf.org/write-to-a-soldier/","_blank"),await new Promise(a=>setTimeout(a,4e3)),await P({content:`💙 Letter sent to IDF soldiers in memory of Chaya Sara Leah Bas Uri zt"l:

${f}

🇮🇱 Sent via FIDF.org - Friends of the Israel Defense Forces`,mailbox:"idf",recipient:"IDF Soldiers"}),alert("🇮🇱 Your letter has been opened on FIDF.org for real-time sending to soldiers, and a copy has been saved in the IDF mailbox! Thank you for spreading love in Chaya Sara Leah's memory."),N("")}catch(a){console.error("Error saving IDF letter copy:",a),alert("Your letter was opened on FIDF.org successfully! There was an issue saving a copy locally, but your letter to the soldiers is ready to send.")}finally{H(!1),u(!1)}}};return V?e.jsx("div",{className:"space-y-6",children:e.jsx(p,{children:e.jsx(b,{className:"p-6 text-center",children:"Loading letters..."})})}):J?e.jsx("div",{className:"space-y-6",children:e.jsx(p,{children:e.jsxs(b,{className:"p-6 text-center text-red-600",children:["Error: ",J]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center justify-center gap-2",children:[e.jsx(y,{className:"h-8 w-8 text-amber-500"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent",children:"Send a Letter to Chaya Sara Leah Bas Uri זצ״ל's Mailbox in Heaven"})]}),e.jsx("p",{className:"mt-2 bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent font-semibold",children:"Choose a mailbox to write and view letters"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-2 md:gap-4 mb-6",children:[e.jsxs(c,{variant:S==="letters"?"default":"outline",onClick:()=>W("letters"),className:`flex items-center gap-2 px-4 md:px-6 py-2 transition-all duration-300 ${S==="letters"?"bg-gradient-to-r from-blue-600 to-amber-600 text-white":"border-blue-300 text-blue-600 hover:bg-blue-50"}`,children:[e.jsx(D,{className:"h-4 w-4"}),"Letters & Mailboxes"]}),e.jsxs(c,{variant:S==="learning"?"default":"outline",onClick:()=>W("learning"),className:`flex items-center gap-2 px-4 md:px-6 py-2 transition-all duration-300 ${S==="learning"?"bg-gradient-to-r from-blue-600 to-amber-600 text-white":"border-blue-300 text-blue-600 hover:bg-blue-50"}`,children:[e.jsx(K,{className:"h-4 w-4"}),"Learning Record"]})]}),S==="letters"&&e.jsxs("div",{children:[e.jsxs("div",{className:"relative min-h-[850px] rounded-lg p-4 md:p-8",children:[e.jsx("div",{className:"absolute top-8 md:top-12 left-1/4 w-12 h-6 md:w-16 md:h-8 bg-white/60 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-6 md:top-8 right-1/4 w-16 h-8 md:w-20 md:h-10 bg-white/50 rounded-full animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-12 md:top-16 left-1/2 w-10 h-5 md:w-12 md:h-6 bg-white/70 rounded-full animate-pulse delay-500"}),e.jsxs("div",{className:"flex flex-col items-center space-y-16 md:space-y-20 pt-6 md:pt-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-8 w-full max-w-4xl",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`relative cursor-pointer transition-all duration-500 ease-out hover:scale-105 ${t==="chaya"?"scale-110 z-20 shadow-2xl":"hover:z-10 hover:shadow-xl"}`,onClick:()=>q("chaya",{x:300,y:150}),children:[e.jsxs("div",{className:"relative w-32 h-24 md:w-36 md:h-28",children:[e.jsx("img",{src:"/chaya_sara_leahs_mailbox.png",alt:"Chaya Sara Leah's Mailbox",className:"w-full h-full object-contain rounded-lg shadow-xl transition-all duration-300"}),e.jsx("div",{className:"absolute top-1 left-1 right-1 text-center",children:e.jsx("p",{className:"text-xs font-bold text-amber-600 bg-white/90 rounded px-1 py-0.5 shadow-sm",children:"30 Heavens Lane"})}),t==="chaya"&&e.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-amber-400/30 to-blue-400/30 animate-pulse"})]}),e.jsx("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 text-center w-44",children:e.jsx("p",{className:"text-xs text-gray-600",children:"Click to open and see mail fly out!"})})]}),e.jsx("div",{className:"mt-4 text-center w-full",children:e.jsx("p",{className:"text-sm font-bold bg-gradient-to-r from-amber-600 via-yellow-600 to-amber-600 bg-clip-text text-transparent",children:"Chaya Sara Leah's Mailbox"})})]}),e.jsxs(c,{onClick:()=>o("chaya"),className:"bg-gradient-to-r from-blue-600 to-amber-600 hover:from-blue-700 hover:to-amber-700 text-white px-4 md:px-6 py-3 rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 w-full md:w-auto",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),'Send Mail to Chaya Sara Leah Bas Uri zt"l']})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-8 w-full max-w-4xl",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`relative cursor-pointer transition-all duration-500 ease-out hover:scale-105 ${t==="idf"?"scale-110 z-20 shadow-2xl":"hover:z-10 hover:shadow-xl"}`,onClick:()=>q("idf",{x:300,y:350}),children:e.jsxs("div",{className:"relative w-32 h-24 md:w-36 md:h-28",children:[e.jsx("img",{src:"/idf_mailbox.png",alt:"IDF Soldiers Mailbox",className:"w-full h-full object-contain rounded-lg shadow-xl transition-all duration-300"}),e.jsx("div",{className:"absolute -top-2 left-1 right-1 text-center",children:e.jsx("p",{className:"text-xs font-bold text-yellow-600 bg-white/90 rounded px-1 py-0.5 shadow-sm",children:"Letters to IDF"})}),t==="idf"&&e.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-yellow-400/30 to-blue-400/30 animate-pulse"})]})}),e.jsxs("div",{className:"mt-4 text-center w-full",children:[e.jsx("p",{className:"text-sm font-bold bg-gradient-to-r from-yellow-600 via-yellow-700 to-yellow-600 bg-clip-text text-transparent",children:"IDF Mailbox"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Support our brave soldiers!"})]})]}),e.jsxs(c,{onClick:()=>{window.open("https://www.fidf.org/write-to-a-soldier/","_blank"),setTimeout(()=>{alert("🇮🇱 FIDF website opened! You can now send real-time letters to IDF soldiers. Use the form below to also save a copy in your local mailbox.")},1e3),o("idf")},className:"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white px-4 md:px-6 py-3 rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 w-full md:w-auto",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Send Letters to IDF Soldiers (Real-Time)"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-8 w-full max-w-4xl",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-16 left-1/2 transform -translate-x-1/2 text-center",children:e.jsx("p",{className:"text-sm font-bold bg-gradient-to-r from-blue-600 via-blue-700 to-blue-600 bg-clip-text text-transparent",children:"Letters Back to You"})}),e.jsxs("div",{className:`relative cursor-pointer transition-all duration-500 ease-out hover:scale-105 ${t==="user"?"scale-110 z-20 shadow-2xl":"hover:z-10 hover:shadow-xl"}`,onClick:Z,children:[e.jsxs("div",{className:"relative w-32 h-24 md:w-36 md:h-28",children:[e.jsx("img",{src:"/users_mailbox.png",alt:"User's Mailbox",className:"w-full h-full object-contain rounded-lg shadow-xl transition-all duration-300"}),s&&e.jsx("div",{className:"absolute top-1 left-1 right-1 text-center",children:e.jsxs("p",{className:"text-xs font-bold text-blue-600 bg-white/90 rounded px-1 py-0.5 shadow-sm truncate",children:[s,"'s Place"]})}),t==="user"&&e.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-400/30 to-blue-500/30 animate-pulse"})]}),e.jsxs("div",{className:"mt-4 text-center w-full",children:[e.jsx("p",{className:"text-sm font-bold bg-gradient-to-r from-blue-600 via-blue-700 to-blue-600 bg-clip-text text-transparent",children:s?`${s}'s Mailbox`:"Your Mailbox"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Personal letters & responses"})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 w-full md:w-auto",children:[e.jsxs(c,{onClick:()=>o("user"),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 md:px-6 py-3 rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 w-full md:w-auto",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Letters to Self & From Chaya Sara Leah"]}),e.jsx(c,{onClick:()=>i(!0),variant:"outline",className:"border-blue-300 text-blue-600 hover:bg-blue-50 px-4 md:px-6 py-2 rounded-lg transition-all duration-300 hover:shadow-md w-full md:w-auto",children:"📝 Customize Name & Address"})]})]})]}),n&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-30 rounded-lg p-4",children:e.jsxs(p,{className:"w-full max-w-md mx-4",children:[e.jsxs(I,{children:[e.jsx(L,{className:"text-center bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent",children:"Customize Your Mailbox"}),e.jsx("p",{className:"text-center text-gray-600 text-sm",children:"Personalize your mailbox with your name for a special touch"})]}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"mailboxName",className:"text-sm font-medium text-gray-700",children:"Your Name"}),e.jsx("input",{id:"mailboxName",type:"text",placeholder:"Enter your name (e.g., Sarah, David, etc.)",value:s,onChange:a=>j(a.target.value),className:"w-full p-3 border border-gray-300 rounded-md text-center focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all duration-300",autoFocus:!0,maxLength:30,onKeyDown:a=>{a.key==="Enter"&&s.trim()&&i(!1),a.key==="Escape"&&i(!1)}}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:['This will appear on your mailbox as "',s||"Your Name",`'s Place"`]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:()=>i(!1),variant:"outline",className:"flex-1 transition-all duration-300 hover:bg-gray-50",children:"Cancel"}),e.jsx(c,{onClick:()=>i(!1),disabled:!s.trim(),className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 transition-all duration-300",children:"✨ Save Name"})]}),s.trim()&&e.jsx("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-700",children:["Preview: ",e.jsxs("span",{className:"font-semibold",children:['"',s,`'s Place"`]})," will appear on your mailbox"]})})]})})]})}),!t&&e.jsx("div",{className:"absolute bottom-4 md:bottom-8 left-1/2 transform -translate-x-1/2 text-center px-4",children:e.jsxs("p",{className:"text-xs md:text-sm text-gray-700 bg-white/95 px-4 md:px-6 py-2 md:py-3 rounded-full shadow-lg border border-gray-200 backdrop-blur-sm",children:[e.jsx("span",{className:"hidden md:inline",children:"Click on a mailbox to see letters fly out • Click again to put letters back • Use buttons to send new mail"}),e.jsx("span",{className:"md:hidden",children:"Tap mailboxes to see letters • Use buttons to send mail"})]})}),T&&$&&e.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[E.filter(a=>a.mailbox===t).slice(0,8).map((a,r)=>e.jsx("div",{className:"absolute transition-all duration-1500 ease-out",style:{left:`${$.x}px`,top:`${$.y}px`,transform:T?`translate(${r%4*60-120}px, ${Math.floor(r/4)*80-60}px) rotate(${r%2*10-5}deg)`:"translate(0, 0) rotate(0deg)",opacity:T?1:0,animation:`mailFlyOut 1.5s ease-out ${r*.15}s forwards`,zIndex:25-r},children:e.jsxs("div",{className:`p-2 rounded-lg shadow-xl border-2 w-20 h-14 flex flex-col items-center justify-center transition-all duration-300 hover:scale-110 ${t==="chaya"?"border-amber-300 bg-gradient-to-br from-amber-50/90 to-amber-100/90":t==="user"?"border-blue-300 bg-gradient-to-br from-blue-50/90 to-blue-100/90":"border-yellow-300 bg-gradient-to-br from-yellow-50/90 to-yellow-100/90"}`,children:[e.jsx("span",{className:"text-lg",children:"✉️"}),e.jsx("div",{className:`w-8 h-px mt-1 ${t==="chaya"?"bg-amber-400":t==="user"?"bg-blue-400":"bg-yellow-400"}`})]})},a.id)),T&&[...Array(6)].map((a,r)=>e.jsx("div",{className:"absolute animate-ping",style:{left:`${$.x+r%3*40-60}px`,top:`${$.y+Math.floor(r/3)*30-30}px`,animationDelay:`${r*.2}s`,animationDuration:"1.5s"},children:e.jsx("span",{className:`text-lg ${t==="chaya"?"text-amber-400":t==="user"?"text-blue-400":"text-yellow-400"}`,children:"✨"})},`sparkle-${r}`))]})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes mailFlyOut {
            0% { 
              transform: translate(0, 0) scale(0.3) rotate(0deg); 
              opacity: 0; 
            }
            20% { 
              transform: translate(10px, -10px) scale(0.6) rotate(5deg); 
              opacity: 0.7; 
            }
            60% { 
              transform: translate(var(--mid-x, 30px), var(--mid-y, -30px)) scale(1) rotate(var(--mid-rotation, 10deg)); 
              opacity: 1; 
            }
            100% { 
              transform: translate(var(--final-x, 0), var(--final-y, 0)) scale(1) rotate(var(--final-rotation, 0deg)); 
              opacity: 1; 
            }
          }
          
          @keyframes mailFlyIn {
            0% { 
              transform: translate(var(--final-x, 0), var(--final-y, 0)) scale(1) rotate(var(--final-rotation, 0deg)); 
              opacity: 1; 
            }
            100% { 
              transform: translate(0, 0) scale(0.3) rotate(0deg); 
              opacity: 0; 
            }
          }
        `}}),t&&e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 md:space-y-6 px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsx(c,{onClick:()=>{o(null),k(!1)},variant:"outline",className:"transition-all duration-300 hover:bg-gray-50 hover:shadow-md order-1 md:order-1",children:"← Close Mailbox"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(c,{onClick:()=>{const a=t==="chaya"?"Chaya Sara Leah's Mailbox":t==="user"?`${s||"Your"} Mailbox`:"IDF Mailbox",r=E.filter(m=>m.mailbox===t),x={mailbox:a,totalLetters:r.length,recentLetters:r.slice(-3).map(m=>({content:m.content.substring(0,100)+(m.content.length>100?"...":""),date:new Date(m.created_at).toLocaleDateString()}))};navigator.share?navigator.share({title:`Letters from ${a}`,text:`View ${r.length} letters in memory of Chaya Sara Leah Bas Uri zt"l`,url:window.location.href}):(navigator.clipboard.writeText(JSON.stringify(x,null,2)),alert("📋 Mailbox content copied to clipboard! Share this with others to spread love and remembrance."))},variant:"outline",className:"bg-blue-50 hover:bg-blue-100 border-blue-200 text-blue-700 transition-all duration-300 hover:shadow-md",children:"📤 Share Letters"}),e.jsx(c,{onClick:()=>{const a=`💙 I'd like to invite you to write letters in memory of Chaya Sara Leah Bas Uri zt"l, a beautiful soul who brought light to the world. 
                  
Join me in sending love to heaven and supporting our brave IDF soldiers in her memory: ${window.location.href}

Your words of love, support, and remembrance make a difference. 🕊️✨`,r=`https://wa.me/?text=${encodeURIComponent(a)}`,x=`mailto:?subject=${encodeURIComponent('Memorial Letters for Chaya Sara Leah Bas Uri zt"l')}&body=${encodeURIComponent(a)}`,m=document.createElement("div");m.style.cssText=`
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: white;
                    border-radius: 12px;
                    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
                    padding: 20px;
                    z-index: 1000;
                    min-width: 300px;
                  `,m.innerHTML=`
                    <h3 style="margin: 0 0 15px 0; font-weight: bold; color: #1e40af;">Share Invitation</h3>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                      <button onclick="window.open('${r}', '_blank'); document.body.removeChild(document.querySelector('[data-share-menu]'))" 
                              style="background: #25d366; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        📱 Share via WhatsApp
                      </button>
                      <button onclick="window.open('${x}', '_blank'); document.body.removeChild(document.querySelector('[data-share-menu]'))" 
                              style="background: #ea4335; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        📧 Share via Email
                      </button>
                      <button onclick="navigator.clipboard.writeText('${a.replace(/'/g,"\\'")}'); alert('💌 Beautiful invitation copied to clipboard!'); document.body.removeChild(document.querySelector('[data-share-menu]'))" 
                              style="background: #6366f1; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        📋 Copy to Clipboard
                      </button>
                      <button onclick="document.body.removeChild(document.querySelector('[data-share-menu]'))" 
                              style="background: #6b7280; color: white; border: none; padding: 8px; border-radius: 8px; cursor: pointer;">
                        Cancel
                      </button>
                    </div>
                  `,m.setAttribute("data-share-menu","true"),document.body.appendChild(m);const _=document.createElement("div");_.style.cssText=`
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.5);
                    z-index: 999;
                  `,_.onclick=()=>{document.body.removeChild(m),document.body.removeChild(_)},document.body.appendChild(_)},variant:"outline",className:"bg-green-50 hover:bg-green-100 border-green-200 text-green-700 transition-all duration-300 hover:shadow-md",children:"👥 Invite Others (WhatsApp/Email)"}),t==="chaya"&&e.jsx(c,{onClick:()=>{const a=`🕯️ In loving memory of Chaya Sara Leah Bas Uri zt"l 🕯️
                    
"May her neshomah have an aliyah and may her memory be a blessing to all who knew her. Her light continues to shine in the hearts of those she touched."

זכרונה לברכה - May her memory be a blessing`;navigator.share?navigator.share({title:'Prayer for Chaya Sara Leah Bas Uri zt"l',text:a}):(navigator.clipboard.writeText(a),alert("🤲 Prayer copied to clipboard. Share this blessing with others."))},variant:"outline",className:"bg-amber-50 hover:bg-amber-100 border-amber-200 text-amber-700 transition-all duration-300 hover:shadow-md",children:"🤲 Share Prayer"})]})]}),e.jsxs(p,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-gray-50",children:[e.jsxs(I,{className:"pb-4",children:[e.jsxs(L,{className:`font-bold text-center text-lg md:text-xl ${t==="chaya"?"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent":t==="user"?"bg-gradient-to-r from-blue-600 via-blue-700 to-blue-600 bg-clip-text text-transparent":"bg-gradient-to-r from-yellow-600 via-yellow-500 to-yellow-600 bg-clip-text text-transparent"}`,children:[t==="chaya"&&"✍️ Write to Chaya Sara Leah",t==="user"&&"📝 Write to Your Mailbox",t==="idf"&&"🇮🇱 Write to IDF - Spread Love in Her Name"]}),e.jsxs("div",{className:"text-center mt-2 mb-2",children:[t==="chaya"&&e.jsx("p",{className:"text-sm font-semibold bg-gradient-to-r from-amber-600 via-yellow-600 to-amber-600 bg-clip-text text-transparent",children:'📮 Sending to Heaven for Chaya Sara Leah Bas Uri zt"l'}),t==="user"&&e.jsx("p",{className:"text-sm font-semibold bg-gradient-to-r from-blue-600 via-blue-700 to-blue-600 bg-clip-text text-transparent",children:"📮 Sending to Self for Personal Reflection"}),t==="idf"&&e.jsx("p",{className:"text-sm font-semibold bg-gradient-to-r from-yellow-600 via-yellow-700 to-yellow-600 bg-clip-text text-transparent",children:"📮 Sending to Soldiers for IDF Support"})]}),e.jsxs("p",{className:`text-center font-medium text-sm md:text-base ${t==="chaya"?"bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent":t==="user"?"bg-gradient-to-r from-blue-700 via-blue-800 to-blue-700 bg-clip-text text-transparent":"bg-gradient-to-r from-yellow-700 via-yellow-600 to-yellow-700 bg-clip-text text-transparent"}`,children:[t==="chaya"&&"Send your thoughts, memories, and prayers directly to her neshomah",t==="user"&&"Write personal notes and messages",t==="idf"&&"Send encouragement and support to our brave soldiers in memory of Chaya Sara Leah"]}),t==="idf"&&e.jsxs("p",{className:"text-center text-sm text-gray-600 mt-2",children:["Learn more about supporting IDF soldiers at"," ",e.jsx("a",{href:"https://www.fidf.org/write-to-a-soldier/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"FIDF.org"})]}),t==="chaya"&&e.jsx("p",{className:"text-center text-sm text-gray-600 mt-2 italic",children:"💫 Letters to Chaya Sara Leah may receive heavenly responses that will appear in your personal mailbox"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"letter",className:`font-semibold text-lg ${t==="chaya"?"bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent":t==="user"?"bg-gradient-to-r from-blue-700 via-blue-800 to-blue-700 bg-clip-text text-transparent":"bg-gradient-to-r from-yellow-700 via-yellow-600 to-yellow-700 bg-clip-text text-transparent"}`,children:[t==="chaya"&&"Dear Chaya Sara Leah,",t==="user"&&`Dear ${s||"Friend"},`,t==="idf"&&"Dear Brave Soldiers of Tzahal,"]}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{id:"letter",placeholder:t==="chaya"?"Share your thoughts, memories, prayers, or just say hello...":t==="user"?"Write a personal note to yourself...":"Share words of encouragement, gratitude, and support for our heroes...",value:t==="idf"?f:h,onChange:a=>{t==="idf"?N(a.target.value):v(a.target.value)},rows:6,className:"resize-none relative z-10 bg-transparent border border-gray-300 rounded-md p-3",style:{color:"transparent",caretColor:t==="chaya"?"#2563eb":t==="user"?"#1e40af":"#ca8a04"}}),e.jsx("div",{className:"absolute inset-0 p-3 pointer-events-none overflow-hidden whitespace-pre-wrap break-words rounded-md font-mono",style:{fontSize:"inherit",lineHeight:"inherit",color:t==="chaya"?"#1e40af":t==="user"?"#1e3a8a":"#ca8a04",background:t==="chaya"?"linear-gradient(135deg, #dbeafe 0%, #fef3c7 50%, #dbeafe 100%)":t==="user"?"linear-gradient(135deg, #dbeafe 0%, #e0e7ff 50%, #dbeafe 100%)":"linear-gradient(135deg, #fef3c7 0%, #fffbeb 50%, #fef3c7 100%)"},children:t==="idf"?f:h})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs(c,{onClick:t==="idf"?te:ee,disabled:t==="idf"?!f.trim()||F:!h.trim()||g,className:`w-full md:w-auto px-6 py-3 text-sm md:text-base font-medium transition-all duration-300 hover:scale-105 hover:shadow-lg ${t==="chaya"?"bg-gradient-to-r from-blue-600 to-amber-600 hover:from-blue-700 hover:to-amber-700 text-white":t==="user"?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white":"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white"}`,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),t==="chaya"&&(g?"Sending to Heaven...":"Send Letter 🕊️"),t==="user"&&(g?"Saving...":"Save Note 📝"),t==="idf"&&(F?"Sending Love...":"Send Letter to Soldiers 🇮🇱")]}),e.jsxs("div",{className:"text-xs md:text-sm text-gray-600 text-center md:text-right max-w-xs",children:[t==="chaya"&&"💫 Letters stored in her heavenly mailbox, responses may appear in yours",t==="user"&&"📋 Saved to your personal mailbox for private reflection",t==="idf"&&"🇮🇱 Spreading love in Chaya Sara Leah's memory to our heroes"]})]})]})]}),e.jsx(de,{letters:t==="user"?E.filter(a=>a.mailbox==="user"||a.recipient&&a.recipient.includes(s||"Friend")):E.filter(a=>a.mailbox===t),onDelete:Q})]}),l&&e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("h2",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-400 via-amber-500 to-yellow-400 bg-clip-text text-transparent text-center drop-shadow-lg",children:[t==="chaya"&&'✨ Sending to Heaven for Chaya Sara Leah Bas Uri zt"l... ✨',t==="user"&&"✨ Saving to Your Mailbox... ✨",t==="idf"&&"✨ Sending Love to IDF Soldiers... ✨"]})})}),e.jsx("div",{className:"absolute inset-0",children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("div",{className:"absolute transform transition-all duration-4000 ease-in-out",style:{animation:"dove-flight 4s ease-in-out forwards",left:"-100px",top:"60%"},children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:"/dove_no_background.png",alt:"Dove",className:"w-20 h-16 filter drop-shadow-lg transform",style:{animation:"wing-flap 0.5s ease-in-out infinite"}}),e.jsx("div",{className:"absolute -bottom-1 right-2 w-6 h-4 bg-white border border-gray-300 transform rotate-12 shadow-sm flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-blue-600",children:"✉"})})]})}),e.jsx("div",{className:"absolute inset-0",children:[...Array(12)].map((a,r)=>e.jsx("div",{className:"absolute animate-ping",style:{left:`${20+r*7}%`,top:`${40+r%3*10}%`,animationDelay:`${r*.3}s`,animationDuration:"2s"},children:e.jsx("span",{className:"text-yellow-400 text-lg",children:"✨"})},r))})]})})]})]}),S==="learning"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(p,{className:"bg-gradient-to-r from-blue-50 via-amber-50 to-blue-50 border-blue-200",children:[e.jsx(I,{children:e.jsxs(L,{className:"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(K,{className:"h-6 w-6 text-amber-500"}),'Record Your Learning in Memory of Chaya Sara Leah Bas Uri zt"l']})}),e.jsxs(b,{className:"space-y-4",children:[e.jsx("p",{className:"bg-gradient-to-r from-blue-700 via-amber-600 to-blue-700 bg-clip-text text-transparent",children:"Document your Torah study, Tehillim, or other learning as a merit for her holy neshomah."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"learning-title",children:"What did you learn? (Title/Subject)"}),e.jsx(se,{id:"learning-title",type:"text",value:Y,onChange:a=>R(a.target.value),placeholder:"e.g., Tehillim Chapter 23, Parshat Bereishit, Mishnah...",className:"transition-all duration-200 focus:ring-2 focus:ring-blue-300"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"learning-content",children:"Learning Details & Insights"}),e.jsx(X,{id:"learning-content",value:C,onChange:a=>A(a.target.value),placeholder:"Share what you learned, key insights, or meaningful passages...",rows:6,className:"transition-all duration-200 focus:ring-2 focus:ring-blue-300 resize-none",style:{fontFamily:"inherit",lineHeight:"1.5",transition:"all 0.2s ease-in-out"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"learning-notes",children:"Personal Reflections & Intentions"}),e.jsx(X,{id:"learning-notes",value:z,onChange:a=>G(a.target.value),placeholder:"How does this learning connect to Chaya Sara Leah's memory? What intentions do you have?",rows:3,className:"transition-all duration-200 focus:ring-2 focus:ring-blue-300 resize-none",style:{fontFamily:"inherit",lineHeight:"1.5",transition:"all 0.2s ease-in-out"}})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs(c,{onClick:()=>{if(Y.trim()||C.trim()){const a={id:Date.now(),title:Y.trim(),content:C.trim(),notes:z.trim(),date:new Date().toISOString()},r=JSON.parse(localStorage.getItem("learningEntries")||"[]");r.unshift(a),localStorage.setItem("learningEntries",JSON.stringify(r)),R(""),A(""),G(""),alert("Learning recorded successfully! לעילוי נשמת חיה שרה לאה בת אורי ז״ל")}},disabled:!Y.trim()&&!C.trim(),className:"bg-gradient-to-r from-blue-600 to-amber-600 hover:from-blue-700 hover:to-amber-700 text-white px-6 py-3 rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Record Learning לעילוי נשמה"]}),e.jsxs(c,{onClick:()=>{const a=`🕯️ Learning in Memory of Chaya Sara Leah Bas Uri zt"l

📚 ${Y||"Torah Study"}
${C?`
📖 What I learned:
${C}`:""}
${z?`
💭 Personal reflection:
${z}`:""}

לעילוי נשמת חיה שרה לאה בת אורי ז״ל

Join me in learning Torah to elevate her holy neshomah: ${window.location.href}`;navigator.share?navigator.share({title:'Learning in Memory of Chaya Sara Leah Bas Uri zt"l',text:a}):(navigator.clipboard.writeText(a),alert("Learning shared to clipboard! 📋"))},variant:"outline",className:"border-blue-300 text-blue-600 hover:bg-blue-50 px-6 py-3 rounded-lg transition-all duration-300 hover:shadow-md flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"Share Learning"]})]})]})]})]}),e.jsxs(p,{children:[e.jsx(I,{children:e.jsx(L,{className:"bg-gradient-to-r from-blue-600 via-amber-500 to-blue-600 bg-clip-text text-transparent",children:"Recent Learning Entries"})}),e.jsx(b,{children:e.jsx("div",{className:"space-y-3",children:(()=>{const a=JSON.parse(localStorage.getItem("learningEntries")||"[]");return a.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No learning entries yet. Start recording your learning above!"}):a.slice(0,5).map((r,x)=>e.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50/50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-blue-800",children:r.title}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(r.date).toLocaleDateString()})]}),r.content&&e.jsx("p",{className:"text-gray-700 text-sm mb-2",children:r.content}),r.notes&&e.jsxs("p",{className:"text-blue-600 text-sm italic",children:["💭 ",r.notes]})]},r.id))})()})})]})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes dove-flight {
            0% {
              left: -100px;
              top: 60%;
              transform: rotate(0deg) scale(1);
            }
            25% {
              left: 25%;
              top: 55%;
              transform: rotate(-5deg) scale(1.1);
            }
            50% {
              left: 50%;
              top: 45%;
              transform: rotate(-10deg) scale(1.2);
            }
            75% {
              left: 75%;
              top: 30%;
              transform: rotate(-15deg) scale(1.1);
            }
            100% {
              left: 110%;
              top: 10%;
              transform: rotate(-20deg) scale(0.8);
            }
          }
          
          @keyframes wing-flap {
            0% { transform: scaleY(1); }
            50% { transform: scaleY(0.8) scaleX(1.1); }
            100% { transform: scaleY(1); }
          }
        `}})]})}export{ye as LettersPage};
